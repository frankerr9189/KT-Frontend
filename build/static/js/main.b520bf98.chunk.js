(this.webpackJsonpfoodapp=this.webpackJsonpfoodapp||[]).push([[0],{47:function(e,n,t){e.exports=t(72)},52:function(e,n,t){},72:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(33),o=t.n(c),i=(t(52),t(7)),l=t(8),u=t(14),m=t(4),p=t(5),s=t(1),d=t(2);function g(){var e=Object(s.a)(["\n    font-family: 'Righteous', cursive;\n"]);return g=function(){return e},e}var f=d.b.div(g()),b="http://localhost:8000/api",h=function(e){return fetch("".concat(b,"/signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))},E=function(e,n){"undefined"!==typeof window&&(localStorage.setItem("jwt",JSON.stringify(e)),n())},x=function(){return"undefined"!=typeof window&&(!!localStorage.getItem("jwt")&&JSON.parse(localStorage.getItem("jwt")))};function v(){var e=Object(s.a)(["\nfont-size: 20px;\ncolor: white;\ntext-shadow: 1px 1px 4px #380503;\ntext-align: right; \npadding-right: 30px;\n"]);return v=function(){return e},e}function j(){var e=Object(s.a)(["\nfont-size: 20px;\ncolor: white;\ntext-shadow: 1px 1px 4px #380503;\n"]);return j=function(){return e},e}function O(){var e=Object(s.a)(["\n    background-color: ",";\n    padding: 10px;\n    position: fixed;\n    width: 100%;\n    z-index: 999;\n"]);return O=function(){return e},e}var y=d.b.div(O(),"#006994"),k=Object(d.b)(f)(j()),S=Object(d.b)(f)(v()),w=x().user;function N(){var e=Object(l.g)();return r.a.createElement(y,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(k,null,"Koastal-Technologies ",r.a.createElement("span",{role:"img","aria-label":"KT"},"\ud83c\udf7b"),"   ",x()&&1===x().user.role&&r.a.createElement(i.b,{className:"nav-link",style:{cursor:"pointer",color:"#ffffff"},to:"/admindash"},"Dashboard"),"        ",r.a.createElement(S,null,!x()&&r.a.createElement(i.b,{to:"/signin"},"Sign-in"),x()&&r.a.createElement(a.Fragment,null,r.a.createElement("li",{className:"nav-item"},"Hello ",w&&w.name,"!    ",r.a.createElement("span",{className:"nav-link",style:{cursor:"pointer",color:"#ffffff"},onClick:function(){return function(e){if("undefined"!==typeof window)return localStorage.removeItem("jwt"),e(),fetch("".concat(b,"/signout"),{method:"GET"}).then((function(e){console.log("signout",e)})).catch((function(e){return console.log(e)}))}((function(){e.push("/"),localStorage.clear()}))}},"Signout")))))))}function C(){var e=Object(s.a)(['\nheight: 250px;\nbackground-image: url("img/banner.jpeg");\nbackground-position: center;\nbackground-size: cover;\nfilter: contrast(85%);\n']);return C=function(){return e},e}var z=d.b.div(C());function P(){var e=Object(s.a)(["\n  body {\n    font-family: 'Open Sans', sans-serif;\n  }\n  h1, h2, h3 {\n    font-family: 'Righteous', cursive;\n  }\n"]);return P=function(){return e},e}var T=Object(d.a)(P()),F=t(22);function A(){var e=Object(s.a)(["\nheight: 100px;\npadding: 10px;\nfont-size: 20px;\nbackground-image: "," \nbackground-position: center;\nbackground-size: cover;\nfilter: contrast(70%);\nborder-radius: 7px;\nmargin-top: 5px;\ntransition-property: box-shadow margin-top filter;\ntransition-duration: .2s;\nbox-shadow: 0px 0px 4px 0px grey;\n&:hover {\n    cursor: pointer;\n    filter: contrast(100%);\n    margin-top: 0px;\n    margin-bottom: 5px;\n    box-shadow: 0px 5px 15px 0px grey;\n}\n"]);return A=function(){return e},e}function I(){var e=Object(s.a)(["\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding: 5px;\n"]);return I=function(){return e},e}function B(){var e=Object(s.a)(["\ndisplay: grid;\ngrid-template-columns: 1fr 1fr;\ngap: 20px;\npadding-bottom: 40px;\n"]);return B=function(){return e},e}var D=d.b.div(B()),W=Object(d.b)(f)(I()),U=d.b.div(A(),(function(e){var n=e.img;return"url(".concat(n,");")}));function J(e){return e.toLocaleString("en-US",{style:"currency",currency:"USD"})}[{name:"Pizza",img:"/img/pizza.jpeg",category:"Pizza",price:15},{name:"Cheese Pizza",img:"/img/cheesepizza.jpeg",category:"Pizza",price:18},{name:"Pepperoni Pizza",img:"/img/pepperonipizza.jpeg",category:"Pizza",price:20},{name:"Sausage Pizza",img:"/img/sausagepizza.jpeg",category:"Pizza",price:20},{name:"Shrimp Pizza",img:"/img/shrimppizza.jpeg",category:"Pizza",price:25},{name:"Cheese Burger",img:"/img/cheeseburger.jpeg",category:"Burgers",price:12},{name:"Cheese Burger",img:"/img/cheeseburger2.jpeg",category:"Burgers",price:12.99},{name:"Bacon Cheese Burger",img:"/img/baconburger.jpeg",category:"Burgers",price:14.5},{name:"Egg Rolls",img:"/img/eggrolls.jpeg",category:"Appetizer",price:8},{name:"Chicken Fingers",img:"/img/fingerfoods.jpeg",category:"Appetizer",price:7.75},{name:"Mozzarella Sticks",img:"/img/mozzarellasticks.jpeg",category:"Appetizer",price:5},{name:"Wings",img:"/img/wings.jpeg",category:"Appetizer",price:9},{name:"Sandwich",img:"/img/sandwich.jpeg",category:"Sandwich",price:12},{name:"Cheese Steak",img:"/img/cheesesteak.jpeg",category:"Sandwich",price:15},{name:"Buffalo Chicken Sandwich",img:"/img/buffalochickensandwich.jpeg",category:"Sandwich",price:12},{name:"Italian Hoagie",img:"/img/italianhoagie.jpeg",category:"Sandwich",price:10},{name:"Drinks",img:"/img/drinks.jpeg",category:"Drinks",price:7},{name:"Red Wine",img:"/img/redwine.jpeg",category:"Drinks",price:10},{name:"Martini",img:"/img/martini.jpeg",category:"Drinks",price:12},{name:"Cape May IPA",img:"/img/capemayipa.jpeg",category:"Drinks",price:8},{name:"Soda",price:1,category:"Soda",choices:["Coke","Pepsi","Sprite","Root Beer"]}].reduce((function(e,n){return e[n.category]||(e[n.category]=[]),e[n.category].push(n),e}),{});function _(){var e=Object(s.a)(["\n width: 23px;\n color: ",";\n font-size:20px;\n text-align: center;\n cursor: pointer;\n line-height: 23px;\n margin: 0px 10px;\n border: 1px solid ",";\n ","\n&:hover{\n    background-color: #31BBBF;\n}\n"]);return _=function(){return e},e}function R(){var e=Object(s.a)(["\n display: flex;\n height: 24px;\n"]);return R=function(){return e},e}function M(){var e=Object(s.a)(["\n    font-size: 18px;\n    width: 24px;\n    text-align: center;\n    border: none;\n    outline: none;\n"]);return M=function(){return e},e}var q=d.b.input(M()),G=Object(d.b)(f)(R()),Z=d.b.div(_(),"#006994","#006994",(function(e){return e.disabled&&"opacity: 0.5;\n    pointer-events: none;\n    "}));function L(e){var n=e.quantity;return r.a.createElement(G,null,r.a.createElement("div",null,"Quantity: "),r.a.createElement(Z,{onClick:function(){n.setValue(n.value-1)},disabled:1===n.value},"-"),r.a.createElement(q,n),r.a.createElement(Z,{onClick:function(){n.setValue(n.value+1)}},"+"))}function V(){var e=Object(s.a)(["\n  cursor: pointer;\n"]);return V=function(){return e},e}function Y(){var e=Object(s.a)(["\n  margin-right: 10px;\n  cursor: pointer;\n"]);return Y=function(){return e},e}function H(){var e=Object(s.a)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n"]);return H=function(){return e},e}var Q=d.b.div(H()),$=d.b.input(Y()),K=d.b.label(V());function X(e){var n=e.toppings,t=e.checkTopping;return r.a.createElement(Q,null,n.map((function(e,n){return r.a.createElement(K,null,r.a.createElement($,{type:"checkbox",checked:e.checked,onClick:function(){t(n)}}),e.name)})))}function ee(e){var n=Object(a.useState)(e||ne.map((function(e){return{name:e,checked:!1}}))),t=Object(p.a)(n,2),r=t[0],c=t[1];return{checkTopping:function(e){var n=Object(F.a)(r);n[e].checked=!n[e].checked,c(n)},toppings:r}}var ne=["Extra Cheese","Pepperoni","Sausage","Onions","Peppers","Pineapple","Ham","Spinach","Artichokes","Mushrooms","Anchovies"];function te(){var e=Object(s.a)(["\n    ","\n"]);return te=function(){return e},e}function ae(){var e=Object(s.a)(["\n    ","\n"]);return ae=function(){return e},e}var re=d.b.input(ae(),"cursor: pointer"),ce=d.b.label(te(),"cursor: pointer");function oe(e){var n=e.openFood,t=e.choiceRadio;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null," Choose One:"),n.choices.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(re,{type:"radio",id:e,name:"choice",value:e,checked:t.value===e,onChange:t.onChange}),r.a.createElement(ce,{for:e}," ",e))})))}var ie=function(){return"undefined"!==typeof window&&localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]};function le(){var e=Object(s.a)(["\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ",";\n","\n"]);return le=function(){return e},e}function ue(){var e=Object(s.a)(["\nbox-shadow: 0px -2px 10px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n"]);return ue=function(){return e},e}function me(){var e=Object(s.a)(["\noverflow: auto; \nmin-height: 100px;\npadding: 0px 40px;\npadding-bottom: 80px;\n"]);return me=function(){return e},e}function pe(){var e=Object(s.a)(["\n    font-size: 30px;\n    padding: 5px 40px;\n    top: ",";\n"]);return pe=function(){return e},e}function se(){var e=Object(s.a)(["\nmin-height: 200px;\nmargin-bottom: 20px;\n","\nbackground-position: center;\nbackground-size: cover;\n"]);return se=function(){return e},e}function de(){var e=Object(s.a)(["\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n"]);return de=function(){return e},e}function ge(){var e=Object(s.a)(["\n    width: 500px;\n    background-color: white;\n    position: fixed;\n    top: 75px;\n    z-index: 5;\n    max-height: calc(100% - 100px);\n    left: calc(50% - 250px);\n    display: flex;\n    flex-direction: column;\n"]);return ge=function(){return e},e}var fe=d.b.div(ge()),be=d.b.div(de()),he=d.b.div(se(),(function(e){var n=e.img;return n?"background-image: url(".concat(n,");"):"min-height: 75px;"})),Ee=Object(d.b)(W)(pe(),(function(e){return e.img?"100px":"20px"}));function xe(){window.location.reload(!1)}function ve(e){return e.quantity*(e.price+.5*e.toppings.filter((function(e){return e.checked})).length)}var je=d.b.div(me()),Oe=d.b.div(ue()),ye=Object(d.b)(f)(le(),"#006994",(function(e){return e.disabled&&"\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n"}));function ke(e){var n=e.openFood,t=e.setOpenFood,c=e.setOrders,o=e.orders,i=function(e){var n=Object(a.useState)(e||1),t=Object(p.a)(n,2),r=t[0],c=t[1];return{value:r,setValue:c,onChange:function(e){+e.target.value>=1?c(+e.target.value):c(1)}}}(n&&n.quantity),l=ee(n.toppings),u=function(e){var n=Object(a.useState)(e),t=Object(p.a)(n,2),r=t[0],c=t[1];return{value:r,onChange:function(e){c(e.target.value)}}}(n.choice),s=n.index>-1;function d(){t()}var g=Object(m.a)(Object(m.a)({},n),{},{quantity:i.value,toppings:l.toppings,choice:u.value});return r.a.createElement(r.a.Fragment,null,r.a.createElement(be,{onClick:d}),r.a.createElement(fe,null,r.a.createElement(he,{img:"".concat(b,"/product/photo/").concat(n._id)},r.a.createElement(Ee,null,n.name)),r.a.createElement(je,null,r.a.createElement(L,{quantity:i}),"Pizza"===n.category.name&&r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Add Toppings:"),r.a.createElement(X,l)),n.choices&&r.a.createElement(oe,{openFood:n,choiceRadio:u})),r.a.createElement(Oe,null,r.a.createElement(ye,{onClick:s?function(){var e=Object(F.a)(o);e[g.index]=g,function(e,n){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(a,r){a._id===e&&(t[r].quantity=n)})),localStorage.setItem("cart",JSON.stringify(t)))}(e[g.index]._id,i),c(e),d(),xe()}:function(){c([].concat(Object(F.a)(o),[g])),function(e){var n=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(n=JSON.parse(localStorage.getItem("cart"))),n.push(Object(m.a)(Object(m.a)({},e),{},{count:1})),localStorage.setItem("cart",JSON.stringify(n)))}(g),console.log(g),d(),xe()},disabled:n.choices&&!u.value},s?"Update order":"Add to order: ",J(ve(g))))))}function Se(e){return e.openFood?r.a.createElement(ke,e):null}function we(){var e=Object(s.a)(["\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding: 5px;\n"]);return we=function(){return e},e}function Ne(){var e=Object(s.a)(["\ndisplay: grid;\ngrid-template-columns: 1fr;\ngap: 20px;\npadding-bottom: 40px;\n"]);return Ne=function(){return e},e}var Ce=d.b.div(Ne()),ze=Object(d.b)(f)(we());var Pe=function(){var e=Object(a.useState)({name:"",email:"",password:"",error:"",success:!1}),n=Object(p.a)(e,2),t=n[0],c=n[1],o=t.name,l=t.email,s=t.password,d=t.success,g=t.error,f=function(e){return function(n){c(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({error:!1},e,n.target.value)))}},h=function(e){var n;e.preventDefault(),c(Object(m.a)(Object(m.a)({},t),{},{error:!1,loading:!0})),(n={name:o,email:l,password:s},fetch("".concat(b,"/signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))).then((function(e){e.error?c(Object(m.a)(Object(m.a)({},t),{},{error:e.error,success:!1})):c(Object(m.a)(Object(m.a)({},t),{},{name:"",email:"",password:"",error:"",success:!0}))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(Se,null),r.a.createElement(N,null),r.a.createElement(z,null),r.a.createElement(Ce,null,r.a.createElement(ze,null,"Please Register!",r.a.createElement("div",{className:"alert alert-danger",style:{display:d?"":"none"}},"New Account Created. Please ",r.a.createElement(i.b,{to:"/signin"},"Signin...")),r.a.createElement("div",{className:"alert alert-danger",style:{display:g?"":"none"}},g),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:f("name"),type:"name",className:"form-control",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email"),r.a.createElement("input",{onChange:f("email"),type:"email",className:"form-control",value:l})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password"),r.a.createElement("input",{onChange:f("password"),type:"password",className:"form-control",value:s})),r.a.createElement("button",{onClick:h,className:"btn btn-primary"},"Submit")))))};function Te(){var e=Object(s.a)(["\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding-right: 15px;\n"]);return Te=function(){return e},e}function Fe(){var e=Object(s.a)(["\ndisplay: grid;\ngrid-template-columns: 1fr;\ngap: 20px;\npadding-bottom: 40px;\n"]);return Fe=function(){return e},e}var Ae=d.b.div(Fe()),Ie=Object(d.b)(f)(Te());var Be=function(){var e=Object(a.useState)({email:"",password:"",error:"",loading:!1,redirectToReferrer:!1}),n=Object(p.a)(e,2),t=n[0],c=n[1],o=t.email,s=t.password,d=t.loading,g=t.error,f=t.redirectToReferrer,b=x().user,v=function(e){return function(n){c(Object(m.a)(Object(m.a)({},t),{},Object(u.a)({error:!1},e,n.target.value)))}},j=function(e){e.preventDefault(),c(Object(m.a)(Object(m.a)({},t),{},{error:!1,loading:!0})),h({email:o,password:s}).then((function(e){e.error?c(Object(m.a)(Object(m.a)({},t),{},{error:e.error,loading:!1})):E(e,(function(){c(Object(m.a)(Object(m.a)({},t),{},{redirectToReferrer:!0})),window.location.reload(!1)}))}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(Se,null),r.a.createElement(N,null),r.a.createElement(z,null),r.a.createElement(Ae,null,r.a.createElement(Ie,null,"Please Sign-in!",d&&r.a.createElement("div",{className:"alert alert-info"},r.a.createElement("h2",null,"Loading...")),r.a.createElement("div",{className:"alert alert-danger",style:{display:g?"":"none"}},g),r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email: "),r.a.createElement("input",{onChange:v("email"),type:"email",className:"form-control",value:o})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Password: "),r.a.createElement("input",{onChange:v("password"),type:"password",className:"form-control",value:s})),r.a.createElement("button",{onClick:j,className:"btn btn-primary"},"Submit"),r.a.createElement("div",null," ",r.a.createElement(i.b,{to:"/signup"},"Click here to register..."))),function(){if(f)return b&&1===b.role?r.a.createElement(l.a,{to:"/admindash"}):r.a.createElement(l.a,{to:"/"})}())))},De=function(){return fetch("".concat(b,"/products?limit=undefined"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))};function We(){var e=Object(s.a)(["\n    height: 1000px;\n    margin: 0px 400px 50px 20px;\n"]);return We=function(){return e},e}var Ue=d.b.div(We());function Je(e){var n=e.setOpenFood,t=Object(a.useState)([]),c=Object(p.a)(t,2),o=c[0],i=c[1],l=Object(a.useState)(!1),u=Object(p.a)(l,2),m=(u[0],u[1]);Object(a.useEffect)((function(){De().then((function(e){e.error?m(e.error):i(e)}))}),[]),Object(a.useEffect)((function(){console.log(o)}),[o]);var s=o.reduce((function(e,n){return e[n.category.name]||(e[n.category.name]=[]),e[n.category.name].push(n),e}),{});return r.a.createElement(Ue,null,Object.entries(s).map((function(e){var t=Object(p.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,a),r.a.createElement(D,null,c.map((function(e,t){return r.a.createElement(U,{key:t,img:"".concat(b,"/product/photo/").concat(e._id),onClick:function(){n(e)}},r.a.createElement(W,null,r.a.createElement("div",null,e.name),r.a.createElement("div",null,J(e.price))))}))))})))}function _e(){var e=Object(s.a)(["\n    color: gray;\n    font-size: 10px;\n"]);return _e=function(){return e},e}function Re(){var e=Object(s.a)(["\n    padding: 10px 0px;\n    display: grid;\n    grid-template-columns: 20px 150px 20px 60px;\n    justify-content: space-between;\n"]);return Re=function(){return e},e}function Me(){var e=Object(s.a)(["\n    padding: 10px 0px;\n    border-bottom: 1px solid grey;\n    ","\n"]);return Me=function(){return e},e}function qe(){var e=Object(s.a)(["\npadding: 20px;\nheight: 100%\n"]);return qe=function(){return e},e}function Ge(){var e=Object(s.a)(["\nposition: fixed;\nright: 0px;\ntop: 57px;\nwidth: 340px;\nbackground-color: white;\nheight: calc(100% - 48px);\nz-index: 10;\nbox-shadow: 4px 0px 5px 4px grey;\ndisplay: flex;\nflex-direction: column;\n"]);return Ge=function(){return e},e}var Ze=d.b.div(Ge()),Le=Object(d.b)(je)(qe()),Ve=d.b.div(Me(),(function(e){return e.editable?"\n&:hover {\n    cursor: pointer;\n    background-color: #e7e7e7;\n}\n":"\n    pointer-events: none;\n    "})),Ye=d.b.div(Re()),He=d.b.div(_e());function Qe(){window.location.reload(!1)}function $e(e){var n=e.orders,t=e.setOrders,c=e.setOpenFood,o=Object(a.useState)([]),u=Object(p.a)(o,2),s=u[0],d=u[1],g=s.reduce((function(e,n){return e+ve(n)}),0),f=.07*g,b=.05*(f+g),x=g+f+b,v=Object(a.useState)(!1),j=Object(p.a)(v,2),O=j[0],y=(j[1],Object(a.useState)({email:"guest@guest.com",password:"Franslk1",error:"",loading:!1,redirectToReferrer:!1})),k=Object(p.a)(y,2),S=k[0],w=k[1],N=S.email,C=S.password,z=(S.loading,S.error,S.redirectToReferrer);Object(a.useEffect)((function(){d(ie()),console.log(s)}),[O]);return r.a.createElement(Ze,null,0===s.length?r.a.createElement(Le,null,"Your cart is empty..."):r.a.createElement(Le,null," ",r.a.createElement(Ve,null,"You have ",s.length," item(s) in your cart.")," ",s.map((function(e,a){return r.a.createElement(Ve,{editable:!0},r.a.createElement(Ye,{onClick:function(){c(Object(m.a)(Object(m.a)({},e),{},{index:a}))}},r.a.createElement("div",null,e.quantity),r.a.createElement("div",null,e.name),r.a.createElement("div",{style:{cursor:"pointer"},onClick:function(r){r.stopPropagation(),function(e){var a=Object(F.a)(n);a.splice(e,1),t(a)}(a),function(e){var n=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(n=JSON.parse(localStorage.getItem("cart"))),n.map((function(t,a){t._id===e&&n.splice(a,1)})),localStorage.setItem("cart",JSON.stringify(n)))}(e._id),Qe()}},"\ud83d\uddd1"),r.a.createElement("div",null,J(ve(e)))),r.a.createElement(He,null,e.toppings.filter((function(e){return e.checked})).map((function(e){return e.name})).join(", ")),e.choice&&r.a.createElement(He,null,e.choice))})),r.a.createElement(Ve,null,r.a.createElement(Ye,null,r.a.createElement("div",null),r.a.createElement("div",null,"Sub-Total:"),r.a.createElement("div",null,J(g))),r.a.createElement(Ye,null,r.a.createElement("div",null),r.a.createElement("div",null,"Tax:"),r.a.createElement("div",null,J(f))),r.a.createElement(Ye,null,r.a.createElement("div",null),r.a.createElement("div",null,"Processing Fee:"),r.a.createElement("div",null,J(b)))),r.a.createElement(Ve,null,r.a.createElement(Ye,null,r.a.createElement("div",null),r.a.createElement("div",null,"Total"),r.a.createElement("div",null,J(x))))),r.a.createElement(Oe,null,r.a.createElement(ye,null,r.a.createElement(i.b,{to:"/checkout"},"Checkout ")),r.a.createElement(ye,null,r.a.createElement(i.b,{to:"/checkout",onClick:function(e){e.preventDefault(),w(Object(m.a)(Object(m.a)({},S),{},{error:!1,loading:!0})),h({email:N,password:C}).then((function(e){e.error?w(Object(m.a)(Object(m.a)({},S),{},{error:e.error,loading:!1})):E(e,(function(){w(Object(m.a)(Object(m.a)({},S),{},{redirectToReferrer:!0})),Qe()}))}))}},"Guest Checkout "),function(){if(z)return r.a.createElement(l.a,{to:"/checkout"})}())))}function Ke(){var e=Object(a.useState)(),n=Object(p.a)(e,2);return{openFood:n[0],setOpenFood:n[1]}}function Xe(){var e=Object(a.useState)([]),n=Object(p.a)(e,2);return{orders:n[0],setOrders:n[1]}}function en(e){var n=e.openFood,t=e.orders;Object(a.useEffect)((function(){document.title=n?n.name:0===t.length?"What's for dinner?":"[".concat(t.length,"] items in your order!")}))}var nn=function(){var e=Ke(),n=Xe();return en(Object(m.a)(Object(m.a)({},e),n)),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(Se,Object.assign({},e,n)),r.a.createElement(N,null),r.a.createElement($e,Object.assign({},n,e)),r.a.createElement(z,null),r.a.createElement(Je,e))},tn=t(32),an=function(e){var n=e.component,t=Object(tn.a)(e,["component"]);return r.a.createElement(l.b,Object.assign({},t,{render:function(e){return x()?r.a.createElement(n,e):r.a.createElement(l.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))},rn=function(e){var n=e.component,t=Object(tn.a)(e,["component"]);return r.a.createElement(l.b,Object.assign({},t,{render:function(e){return x()&&1===x().user.role?r.a.createElement(n,e):r.a.createElement(l.a,{to:{pathname:"/signin",state:{from:e.location}}})}}))};function cn(){var e=Object(s.a)(['\n    height: 100px;\n    padding: 10px;\n    font-size: 20px;\n    background-image: url("img/shark.jpeg");\n    background-position: center;\n    background-size: cover;\n    filter: contrast(50%);\n    border-radius: 10px;\n    margin-top: 5px;\n    transition-property: box-shadow margin-top filter;\n    transition-duration: .2s;\n    box-shadow: 0px 0px 4px 0px grey;\n    &:hover {\n        cursor: pointer;\n        filter: contrast(100%);\n        margin-top: 0px;\n        margin-bottom: 5px;\n        box-shadow: 0px 5px 15px 0px grey;\n    }\n']);return cn=function(){return e},e}function on(){var e=Object(s.a)(["\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding: 5px;\n"]);return on=function(){return e},e}function ln(){var e=Object(s.a)(["\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 20px\n"]);return ln=function(){return e},e}var un=d.b.div(ln()),mn=Object(d.b)(f)(on()),pn=d.b.div(cn());function sn(){var e=Object(s.a)(["\n    height: 500px;\n    margin: 0px 200px 50px 100px;\n"]);return sn=function(){return e},e}var dn=d.b.div(sn());function gn(e){var n=e.setCategoryWin,t=e.setProductWin,a=e.setProductUpdate,c=(e.setOrderReport,x().user);return r.a.createElement(dn,null,r.a.createElement("h1",null,"Admin Options"),r.a.createElement(r.a.Fragment,null,r.a.createElement(un,null,r.a.createElement(pn,{onClick:function(){n("Add Category")}},r.a.createElement(mn,null,"Add Category")),r.a.createElement(pn,{onClick:function(){t("Add Product")}},r.a.createElement(mn,null,"Add Product")),r.a.createElement(pn,{onClick:function(){console.log("redirect"),c&&1===c.role?(console.log("/adminorders"),l.a):(console.log("/"),l.a)}},r.a.createElement(mn,null," View Orders")),r.a.createElement(pn,{onClick:function(){a("Manage Product")}},r.a.createElement(mn,null,"Manage Products")),r.a.createElement(pn,null,r.a.createElement(mn,null,"User Information")))))}function fn(){var e=Object(s.a)(["\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n"]);return fn=function(){return e},e}function bn(){var e=Object(s.a)(['\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url("img/shark.jpeg");\nbackground-position: center;\nbackground-size: cover;\n']);return bn=function(){return e},e}function hn(){var e=Object(s.a)(["\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n"]);return hn=function(){return e},e}function En(){var e=Object(s.a)(["\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ",";\n","\n"]);return En=function(){return e},e}function xn(){var e=Object(s.a)(["\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n"]);return xn=function(){return e},e}function vn(){var e=Object(s.a)(["\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n"]);return vn=function(){return e},e}function jn(){var e=Object(s.a)(["\nwidth: 500px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n"]);return jn=function(){return e},e}var On=d.b.div(jn()),yn=d.b.div(vn()),kn=d.b.div(xn()),Sn=(Object(d.b)(f)(En(),"#006994",(function(e){return e.disabled&&"\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n"})),d.b.div(hn())),wn=d.b.div(bn()),Nn=Object(d.b)(mn)(fn());function Cn(e){var n=e.categoryWin,t=e.setCategoryWin,c=Object(a.useState)(""),o=Object(p.a)(c,2),i=o[0],l=o[1],u=Object(a.useState)(!1),m=Object(p.a)(u,2),s=m[0],d=m[1],g=Object(a.useState)(!1),f=Object(p.a)(g,2),h=f[0],E=f[1],v=x(),j=v.user,O=v.token,y=function(e){d(""),l(e.target.value)},k=function(e){e.preventDefault(),d(""),E(!1),function(e,n,t){return fetch("".concat(b,"/category/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(j._id,O,{name:i}).then((function(e){e.error?d(e.error):(d(""),E(!0))}))};return n?r.a.createElement(r.a.Fragment,null,r.a.createElement(yn,{onClick:function(){t()}}),r.a.createElement(On,null,r.a.createElement(wn,null,r.a.createElement(Nn,null,n)),r.a.createElement(kn,null,function(){if(h)return r.a.createElement("h3",{className:"text-success"},i," has been created!")}(),function(){if(s)return r.a.createElement("h3",{className:"text-danger"},"Category needs to be unique.")}(),r.a.createElement("form",{onSubmit:k},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Category name to add: "),r.a.createElement("input",{type:"text",className:"form-control",onChange:y,value:i,autoFocus:!0,required:!0})),r.a.createElement("button",{className:"btn btn-outline-primary"},"Create Category"))),r.a.createElement(Sn,null))):null}function zn(){var e=Object(s.a)(["\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n"]);return zn=function(){return e},e}function Pn(){var e=Object(s.a)(['\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url("img/shark.jpeg");\nbackground-position: center;\nbackground-size: cover;\n']);return Pn=function(){return e},e}function Tn(){var e=Object(s.a)(["\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n"]);return Tn=function(){return e},e}function Fn(){var e=Object(s.a)(["\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ",";\n","\n"]);return Fn=function(){return e},e}function An(){var e=Object(s.a)(["\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n"]);return An=function(){return e},e}function In(){var e=Object(s.a)(["\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n"]);return In=function(){return e},e}function Bn(){var e=Object(s.a)(["\nwidth: 500px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n"]);return Bn=function(){return e},e}var Dn=d.b.div(Bn()),Wn=d.b.div(In()),Un=d.b.div(An()),Jn=(Object(d.b)(f)(Fn(),"#006994",(function(e){return e.disabled&&"\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n"})),d.b.div(Tn())),_n=d.b.div(Pn()),Rn=Object(d.b)(mn)(zn());function Mn(e){var n=e.productWin,t=e.setProductWin,c=x(),o=c.user,i=c.token,l=Object(a.useState)({name:"",description:"",price:"",categories:[],category:"",shipping:"",photo:"",loading:!1,error:"",createdProduct:"",redirectedToProfile:!1,formData:""}),s=Object(p.a)(l,2),d=s[0],g=s[1],f=d.name,h=d.description,E=d.price,v=d.categories,j=d.loading,O=d.error,y=d.createdProduct,k=d.formData,S=function(){fetch("".concat(b,"/categories"),{method:"GET"}).then((function(e){return e.json()})).catch((function(e){return console.log(e)})).then((function(e){e.error?g(Object(m.a)(Object(m.a)({},d),{},{error:e.error})):g(Object(m.a)(Object(m.a)({},d),{},{categories:e,formData:new FormData}))}))};Object(a.useEffect)((function(){S()}),[]);var w=function(e){return function(n){var t="photo"===e?n.target.files[0]:n.target.value;k.set(e,t),g(Object(m.a)(Object(m.a)({},d),{},Object(u.a)({},e,t)))}},N=function(e){e.preventDefault(),g(Object(m.a)(Object(m.a)({},d),{},{error:"",loading:!0})),function(e,n,t){return fetch("".concat(b,"/product/create/").concat(e),{method:"POST",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)},body:t}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))}(o._id,i,k).then((function(e){e.error?g(Object(m.a)(Object(m.a)({},d),{},{error:e.error})):g(Object(m.a)(Object(m.a)({},d),{},{name:"",description:"",photo:"",price:"",loading:!1,createdProduct:e.name}))}))};return n?r.a.createElement(r.a.Fragment,null,r.a.createElement(Wn,{onClick:function(){t()}}),r.a.createElement(Dn,null,r.a.createElement(_n,null,r.a.createElement(Rn,null,n)),r.a.createElement(Un,null,r.a.createElement("div",{className:"alert alert-info",style:{display:y?"":"none"}},r.a.createElement("h2",null,"".concat(y)," is created`")),r.a.createElement("div",{className:"alert alert-danger",style:{display:O?"":"none"}},O),j&&r.a.createElement("div",{className:"alert alert-success"},r.a.createElement("h2",null,"Loading...")),r.a.createElement("form",{className:"mb-3",onSubmit:N},r.a.createElement("h4",null,"Post Photo"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"btn btn-secondary"},r.a.createElement("input",{onChange:w("photo"),type:"file",name:"photo",accept:"image/*"}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name"),r.a.createElement("input",{onChange:w("name"),type:"text",className:"form-control",value:f})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Description"),r.a.createElement("input",{onChange:w("description"),type:"text",className:"form-control",value:h})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Price"),r.a.createElement("input",{onChange:w("price"),type:"number",className:"form-control",value:E})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Category"),r.a.createElement("select",{onChange:w("category"),className:"form-control"},r.a.createElement("option",null,"--select--"),v&&v.map((function(e,n){return r.a.createElement("option",{key:n,value:e._id},e.name)})))),r.a.createElement("div",{className:"form-group"}),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Shipping"),r.a.createElement("select",{onChange:w("shipping"),className:"form-control"},r.a.createElement("option",null,"--select--"),r.a.createElement("option",{value:"0"},"No"),r.a.createElement("option",{value:"1"},"Yes"))),r.a.createElement("button",{className:"btn btn-outline-primary"},"Create Product"))),r.a.createElement(Jn,null))):null}function qn(){var e=Object(s.a)(["\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n"]);return qn=function(){return e},e}function Gn(){var e=Object(s.a)(['\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url("img/shark.jpeg");\nbackground-position: center;\nbackground-size: cover;\n']);return Gn=function(){return e},e}function Zn(){var e=Object(s.a)(["\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n"]);return Zn=function(){return e},e}function Ln(){var e=Object(s.a)(["\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 100px;\ncursor: pointer;\nbackground-color: ",";\n","\n"]);return Ln=function(){return e},e}function Vn(){var e=Object(s.a)(["\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 100px;\ncursor: pointer;\nbackground-color: #ff0000;\n","\n"]);return Vn=function(){return e},e}function Yn(){var e=Object(s.a)(["\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n"]);return Yn=function(){return e},e}function Hn(){var e=Object(s.a)(["\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n"]);return Hn=function(){return e},e}function Qn(){var e=Object(s.a)(["\nwidth: 550px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n"]);return Qn=function(){return e},e}var $n=d.b.div(Qn()),Kn=d.b.div(Hn()),Xn=d.b.div(Yn()),et=Object(d.b)(f)(Vn(),(function(e){return e.disabled&&"\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n"})),nt=Object(d.b)(f)(Ln(),"#006994",(function(e){return e.disabled&&"\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n"})),tt=d.b.div(Zn()),at=d.b.div(Gn()),rt=Object(d.b)(mn)(qn());function ct(e){var n=e.productUpdate,t=e.setProductUpdate,c=Object(a.useState)([]),o=Object(p.a)(c,2),i=o[0],l=o[1],m=x(),s=m.user,d=m.token,g=function(){De().then((function(e){e.error?console.log(e.error):l(e)}))},f=function(e){(function(e,n,t){return fetch("".concat(b,"/product/").concat(e,"/").concat(n),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,s._id,d).then((function(e){e.error?console.log(e.error):g()}))};return Object(a.useEffect)((function(){g()}),[]),n?r.a.createElement(r.a.Fragment,null,r.a.createElement(Kn,{onClick:function(){t()}}),r.a.createElement($n,null,r.a.createElement(at,null,r.a.createElement(rt,null,n)),r.a.createElement(Xn,null,r.a.createElement("div",Object(u.a)({className:"profile-orders"},"className","content-margined"),r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Product Name"),r.a.createElement("th",null,"Update"),r.a.createElement("th",null,"Delete"))),r.a.createElement("tbody",null,i.map((function(e,n){return r.a.createElement("tr",{key:n},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement(nt,null,"Update")),r.a.createElement("td",null,r.a.createElement("span",{onClick:function(){return f(e._id)},className:"badge badge-danger badge-pill"},r.a.createElement(et,null," Delete"))))})))))),r.a.createElement(tt,null))):null}function ot(){var e=Object(s.a)(["\noverflow: auto; \nheight: 100px;\npadding-top: 150px;\npadding-bottom: 80px;\n"]);return ot=function(){return e},e}var it=d.b.div(ot()),lt=function(){var e=Object(a.useState)(),n=Object(p.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(),l=Object(p.a)(o,2),u=l[0],m=l[1],s=Object(a.useState)(),d=Object(p.a)(s,2),g=d[0],f=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(Cn,null),r.a.createElement(Se,null),r.a.createElement(Cn,{categoryWin:t,setCategoryWin:c}),r.a.createElement(Mn,{productWin:u,setProductWin:m}),r.a.createElement(ct,{productUpdate:g,setProductUpdate:f}),r.a.createElement(N,null),r.a.createElement(z,null,r.a.createElement(it,null,r.a.createElement(i.b,{style:{cursor:"pointer",color:"#ffffff"},className:"nav-link",to:"/"},"Online Ordering"))),r.a.createElement(gn,{setCategoryWin:c,setProductWin:m,setProductUpdate:f}))};function ut(){var e=Object(s.a)(["\noverflow: auto; \nheight: 100px;\npadding-top: 150px;\npadding-bottom: 80px;\n"]);return ut=function(){return e},e}var mt=d.b.div(ut()),pt=function(){var e=Object(a.useState)(),n=Object(p.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(),l=Object(p.a)(o,2),u=l[0],m=l[1],s=Object(a.useState)(),d=Object(p.a)(s,2),g=d[0],f=d[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(Cn,null),r.a.createElement(Se,null),r.a.createElement(Cn,{categoryWin:t,setCategoryWin:c}),r.a.createElement(Mn,{productWin:u,setProductWin:m}),r.a.createElement(ct,{productUpdate:g,setProductUpdate:f}),r.a.createElement(N,null),r.a.createElement(z,null,r.a.createElement(mt,null,r.a.createElement(i.b,{style:{cursor:"pointer",color:"#ffffff"},className:"nav-link",to:"/"},"Online Ordering"))),r.a.createElement(gn,{setCategoryWin:c,setProductWin:m,setProductUpdate:f}))},st=t(43),dt=t.n(st);function gt(){var e=Object(s.a)(["\n    height: 400px;\n    width: 500px;\n    z-index: 10;\nbox-shadow: 4px 0px 5px 4px grey;\ndisplay: flex;\nflex-direction: column;\n"]);return gt=function(){return e},e}function ft(){var e=Object(s.a)(["\n    height: 600px;\n    width: 600px;\n    z-index: 10;\nbox-shadow: 4px 0px 5px 4px grey;\ndisplay: flex;\nflex-direction: column;\n"]);return ft=function(){return e},e}function bt(){var e=Object(s.a)(["\n    color: gray;\n    font-size: 10px;\n"]);return bt=function(){return e},e}function ht(){var e=Object(s.a)(["\n    font-size: 25px;\n    padding: 5px 20px;\n    \n"]);return ht=function(){return e},e}function Et(){var e=Object(s.a)(['\nmin-height: 50px;\nmargin-bottom: 20px;\nbackground-image: url("img/shark.jpeg");\nbackground-position: center;\nbackground-size: cover;\n']);return Et=function(){return e},e}function xt(){var e=Object(s.a)(["\n    padding: 10px 0px;\n    display: grid;\n    grid-template-columns: 20px 150px 20px 60px;\n    justify-content: space-between;\n"]);return xt=function(){return e},e}function vt(){var e=Object(s.a)(["\n    padding: 10px 0px;\n    border-bottom: 1px solid grey;\n    ","\n"]);return vt=function(){return e},e}function jt(){var e=Object(s.a)(["\npadding: 20px;\nheight: 100%\n"]);return jt=function(){return e},e}function Ot(){var e=Object(s.a)(["\ntop: 300px;\nwidth: 600px;\nbackground-color: white;\nheight: 600px;\nz-index: 10;\nbox-shadow: 4px 0px 5px 4px grey;\ndisplay: flex;\nflex-direction: column;\n"]);return Ot=function(){return e},e}function yt(){var e=Object(s.a)(["\ndisplay: grid;\nwidth: 1000px;\ngrid-template-columns: 1fr 1fr 1fr;\ngap: 20px;\npadding-bottom: 40px;\n"]);return yt=function(){return e},e}var kt=d.b.div(yt()),St=d.b.div(Ot()),wt=Object(d.b)(je)(jt()),Nt=d.b.div(vt(),(function(e){return e.editable?"\n&:hover {\n    cursor: pointer;\n    background-color: #e7e7e7;\n}\n":"\n    pointer-events: none;\n    "})),Ct=(d.b.div(xt()),d.b.div(Et())),zt=Object(d.b)(W)(ht()),Pt=d.b.div(bt()),Tt=d.b.div(ft());d.b.div(gt());function Ft(){var e=Ke(),n=Xe();en(Object(m.a)(Object(m.a)({},e),n));var t=Object(a.useState)([]),c=Object(p.a)(t,2),o=c[0],i=c[1],l=Object(a.useState)(!1),s=Object(p.a)(l,2),d=s[0],g=s[1],f=o.reduce((function(e,n){return e+ve(n)}),0),h=f.toFixed(2),E=.07*f,v=E.toFixed(2),j=.05*(E+f),O=j.toFixed(2),y=f+E+j,k=y.toFixed(2),S=Object(a.useState)({success:!1,clientToken:null,error:"",instance:{},user:"",orderItems:"",ShipName:"",ShipEmail:"",ShipAddress:"",ShipCity:"",ShipState:"",ShipZip:"",method:"",subTotal:"",taxPrice:"",processingFee:"",totalPrice:""}),w=Object(p.a)(S,2),N=w[0],C=w[1],z=N.success,P=(N.orderItems,N.ShipName),T=N.ShipEmail,F=N.ShipAddress,A=N.ShipCity,I=N.ShipState,B=N.ShipZip;N.method,N.subTotal,N.processingFee,N.taxPrice,N.totalPrice;Object(a.useEffect)((function(){i(ie())}),[d]);var D=x()&&x().user._id,W=x()&&x().token,U=function(e,n){(function(e,n){return fetch("".concat(b,"/braintree/getToken/").concat(e),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(e,n).then((function(e){e.error?C(Object(m.a)(Object(m.a)({},e),{},{error:e.error})):C({clientToken:e.clientToken})}))};Object(a.useEffect)((function(){U(D,W)}),[]);var _,R=N.method,M=function(){var e;N.instance.requestPaymentMethod().then((function(n){e=n.nonce,function(e,n,t){return fetch("".concat(b,"/braintree/payment/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(t)}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(D,W,{paymentMethodNonce:e,amount:k}).then((function(e){console.log(n),function(e,n,t){return fetch("".concat(b,"/order/create/").concat(e),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({order:t})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))}(D,W,{orderItems:o,ShipName:P,ShipEmail:T,ShipAddress:F,ShipCity:A,ShipState:I,ShipZip:B,method:R,subTotal:h,taxPrice:v,processingFee:O,totalPrice:k}).then((function(e){var n;n=function(){console.log("payment success and empty cart"),C({success:!0}),localStorage.clear()},"undefined"!==typeof window&&(localStorage.removeItem("cart"),n())})).catch((function(e){return console.log(e)}))}))})).catch((function(e){console.log("drop in error: ",e),C(Object(m.a)(Object(m.a)({},N),{},{error:e.message}))}))},q=function(e){return r.a.createElement("div",{style:{display:e?"":"none"}},r.a.createElement("h2",null,"Thanks! Your payment was successful!"))},G=function(e){return function(n){var t="name"===e?n.target.files[0]:n.target.value;C(Object(m.a)(Object(m.a)({},N),{},Object(u.a)({},e,t)))}},Z=function(e){C(Object(m.a)(Object(m.a)({},N),{},{method:e.target.value}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(kt,null,r.a.createElement(St,null,r.a.createElement(Nt,null,r.a.createElement(Ct,{img:"".concat(b,"/product/photo/shark.jpeg")},r.a.createElement(zt,null,"Summary, your cart has ","".concat(o.length)," items.")),r.a.createElement(wt,null,q(z),function(e){return r.a.createElement("div",{onBlur:function(){return C(Object(m.a)(Object(m.a)({},N),{},{error:""}))}},r.a.createElement("hr",null),e.map((function(e,n){return r.a.createElement(Pt,{key:n,items:e,setRun:g,run:d},e.name," "," Qty: "," ",e.quantity," "," "," ",e.toppings.filter((function(e){return e.checked})).map((function(e){return e.name})).join(", ")," $",ve(e).toFixed(2))})))}(o),r.a.createElement(Pt,null,"Sub-Total: ",J(f)," "),r.a.createElement(Pt,null,"Tax: ",J(E)," "),r.a.createElement(Pt,null,"Processing Fee: ",J(j)," "),r.a.createElement(Pt,null,"Total: ",J(y)," ")))),r.a.createElement(Tt,null,r.a.createElement(Ct,null,r.a.createElement(zt,null,"Delivery Address")),r.a.createElement("div",null,r.a.createElement("label",null,"Method Type:"),r.a.createElement("select",{className:"form-control",onChange:Z},r.a.createElement("option",null,"Select Method"),r.a.createElement("option",null,"Pick Up"),r.a.createElement("option",null,"Delivery"))),r.a.createElement("form",{className:"mb-3"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Name: "),r.a.createElement("input",{onChange:G("ShipName"),type:"text",className:"form-control",value:P||""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Email: "),r.a.createElement("input",{onChange:G("ShipEmail"),type:"text",className:"form-control",value:T||""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Address: "),r.a.createElement("input",{onChange:G("ShipAddress"),type:"text",className:"form-control",value:F||""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"City: "),r.a.createElement("input",{onChange:G("ShipCity"),type:"text",className:"form-control",value:A||""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"State: "),r.a.createElement("input",{onChange:G("ShipState"),type:"text",className:"form-control",value:I||""})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"text-muted"},"Zip: "),r.a.createElement("input",{onChange:G("ShipZip"),type:"text",className:"form-control",value:B||""}))),r.a.createElement(Ct,null,r.a.createElement(zt,null,"Payment Method")),q(N.success),(_=N.error,r.a.createElement("div",{style:{display:N.error?"":"none"}},_)),r.a.createElement("div",{onBlur:function(){return C(Object(m.a)(Object(m.a)({},N),{},{error:""}))}},null!==N.clientToken&&o.length>0?r.a.createElement("div",null,r.a.createElement(dt.a,{options:{authorization:N.clientToken,paypal:{flow:"vault"}},onInstance:function(e){return N.instance=e}}),r.a.createElement("button",{onClick:M,className:"btn-block"},"Pay")):null))))}function At(){var e=Object(s.a)(["\noverflow: auto; \nheight: 100px;\npadding-top: 150px;\npadding-bottom: 80px;\n"]);return At=function(){return e},e}var It=d.b.div(At());var Bt=function(){var e=Ke(),n=Xe();return en(Object(m.a)(Object(m.a)({},e),n)),r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(Se,Object.assign({},e,n)),r.a.createElement(N,null),r.a.createElement(z,null,r.a.createElement(It,null,r.a.createElement(i.b,{style:{cursor:"pointer",color:"#ffffff"},className:"nav-link",to:"/"},"Online Ordering"))),r.a.createElement(Ft,null))},Dt=t(44),Wt=t.n(Dt),Ut=t(12),Jt=t(94),_t=t(97),Rt=t(99),Mt=t(100),qt=t(95),Gt=t(98),Zt=t(93),Lt=t(96);function Vt(){var e=Object(s.a)(["\n    padding: 10px 0px;\n    border-bottom: 1px solid grey;\n"]);return Vt=function(){return e},e}var Yt=Object(Ut.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Mt.a),Ht=Object(Ut.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Zt.a),Qt=Object(Jt.a)({table:{minWidth:700}});d.b.div(Vt());var $t=function(){var e=Object(a.useState)([]),n=Object(p.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)([]),i=Object(p.a)(o,2),l=i[0],u=i[1],m=x(),s=m.user,d=m.token,g=t.filter((function(e){return"Completed"!==e.status&&"Cancelled"!==e.status})),f=function(){(function(e,n){return fetch("".concat(b,"/order/list/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(s._id,d).then((function(e){e.error?console.log(e.error):c(e)}))},h=function(){(function(e,n){return fetch("".concat(b,"/order/status-values/").concat(e),{method:"GET",headers:{Accept:"application/json",Authorization:"Bearer ".concat(n)}}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(s._id,d).then((function(e){e.error?console.log(e.error):u(e)}))};Object(a.useEffect)((function(){f(),h()}),[]);var E=function(e,n){(function(e,n,t,a){return fetch("".concat(b,"/order/").concat(t,"/status/").concat(e),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({status:a,orderId:t})}).then((function(e){return e.json()})).catch((function(e){return console.log(e)}))})(s._id,d,n,e.target.value).then((function(e){e.error?console.log("Status update failed"):f()}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(N,null),r.a.createElement(z,null),t.length>0?r.a.createElement("h1",{className:"text-danger"},"Total Orders: ",g.length):r.a.createElement("h1",{className:"text-danger"},"No orders"),function(){var e=Qt();return r.a.createElement(qt.a,{component:Lt.a},r.a.createElement(_t.a,{className:e.table,"aria-label":"customized table"},r.a.createElement(Gt.a,null,r.a.createElement(Zt.a,null,r.a.createElement(Yt,null,"Order #"),r.a.createElement(Yt,{align:"right"},"Date"),r.a.createElement(Yt,{align:"right"},"Name"),r.a.createElement(Yt,{align:"right"},"Delivery Address"),r.a.createElement(Yt,{align:"right"},"Total"),r.a.createElement(Yt,{align:"right"},"Delivery Method"),r.a.createElement(Yt,{align:"right"},"Status"),r.a.createElement(Yt,{align:"right"},"Items"),r.a.createElement(Yt,{align:"right"},"Quantity"))),r.a.createElement(Rt.a,null,g.map((function(e,n){return r.a.createElement(Ht,{key:n},r.a.createElement(Yt,{component:"th",scope:"row"},e._id),r.a.createElement(Yt,{align:"right"},Wt()(e.createdAt).fromNow()),r.a.createElement(Yt,{align:"right"},e.ShipName),r.a.createElement(Yt,{align:"right"},r.a.createElement("div",null,e.ShipAddress),r.a.createElement("div",null,e.ShipCity,", ",e.ShipState," ",e.ShipZip)),r.a.createElement(Yt,{align:"right"},"$",e.totalPrice.toFixed(2)),r.a.createElement(Yt,{align:"right"},e.method),r.a.createElement(Yt,{align:"right"},function(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("h3",{className:"mark mb-4"},"Status: ",e.status),r.a.createElement("select",{className:"form-control",onChange:function(n){return E(n,e._id)}},r.a.createElement("option",null,"Update Status"),l.map((function(e,n){return r.a.createElement("option",{key:n,value:e},e)})),";"))}(e)),r.a.createElement(Yt,{align:"right"},e.orderItems.map((function(e,n){return r.a.createElement("div",{className:"mb-4",key:n,style:{padding:"5px",border:"1px solid indigo"}},e.name,r.a.createElement("div",null,e.toppings.filter((function(e){return e.checked})).map((function(e){return e.name})).join(", ")))}))),r.a.createElement(Yt,{align:"right"},e.orderItems.map((function(e,n){return r.a.createElement("div",{className:"mb-4",key:n,style:{padding:"5px",border:"1px solid indigo"}},e.quantity)}))))})))))}(),");")},Kt=function(){return r.a.createElement(i.a,null,r.a.createElement(l.d,null,r.a.createElement(l.b,{path:"/signin",exact:!0,component:Be}),r.a.createElement(l.b,{path:"/signup",exact:!0,component:Pe}),r.a.createElement(l.b,{path:"/",exact:!0,component:nn}),r.a.createElement(an,{path:"/dashboard",exact:!0,component:lt}),r.a.createElement(an,{path:"/checkout",exact:!0,component:Bt}),r.a.createElement(rn,{path:"/admindash",exact:!0,component:pt}),r.a.createElement(rn,{path:"/adminorders",exact:!0,component:$t})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Kt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[47,1,2]]]);
//# sourceMappingURL=main.b520bf98.chunk.js.map