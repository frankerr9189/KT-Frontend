{"version":3,"sources":["Styles/title.js","config.js","auth/index.js","Navar/Navbar.js","Styles/colors.js","Banner/Banner.js","Styles/GlobalStyle.js","Menu/FoodGrid.js","Data/FoodData.js","FoodDialog/QuantityInput.js","FoodDialog/Toppings.js","Hooks/useToppings.js","FoodDialog/Choices.js","Cart/carthelper.js","FoodDialog/FoodDialog.js","Hooks/useQuantity.js","Hooks/useChoice.js","user/Signup.js","user/Signin.js","admin/adminApi.js","Menu/Menu.js","Order/Order.js","Hooks/useOpenFood.js","Hooks/useOrders.js","Hooks/useTitle.js","App.js","auth/PrivateRoute.js","auth/AdminRoute.js","user/dashlinkhelper.js","user/dashboardhelper.js","user/CategoryDialog.js","user/ProductDialog.js","user/ProductUpdate.js","user/UserDashboard.js","user/AdminDashboard.js","user/CheckoutStyled.js","user/Checkout.js","user/AdminOrders.js","Routes.js","serviceWorker.js","index.js"],"names":["Title","styled","div","API","process","signin","user","fetch","method","headers","Accept","body","JSON","stringify","then","response","json","catch","err","console","log","authenticate","data","next","window","localStorage","setItem","isAuthenticated","getItem","parse","NavbarStyled","Logo","LogoSignin","Navbar","history","useHistory","role","aria-label","className","style","cursor","color","to","name","onClick","removeItem","signout","push","clear","Banner","GlobalStyle","createGlobalStyle","FoodGrid","FoodLabel","Food","img","formatPrice","price","toLocaleString","currency","category","choices","reduce","res","food","QuantityInputStyled","input","IncrementContainer","IncrementButton","disabled","QuantityInput","quantity","setValue","value","ToppingGrid","ToppingCheckbox","CheckboxLabel","label","Toppings","toppings","checkTopping","map","topping","i","type","checked","useToppings","defaultTopping","useState","toppingsList","setToppings","index","newToppings","RadioInput","Label","Choices","openFood","choiceRadio","choice","id","onChange","for","getCart","Dialog","DialogShadow","DialogBanner","DialogBannerName","refreshPage","location","reload","getPrice","order","filter","t","length","DialogContent","DialogFooter","ConfirmButton","FoodDialogContainer","setOpenFood","setOrders","orders","defaultQuantity","e","target","useQuantity","defaultChoice","useChoice","isEditing","close","_id","newOrders","productId","count","cart","product","updateItem","item","addItem","FoodDialog","props","SigninGrid","SigninLabel","Signup","email","password","error","success","values","setValues","handleChange","event","clickSubmit","preventDefault","loading","display","Signin","redirectToReferrer","redirectUser","getProducts","MenuStyled","Menu","loadProducts","setLoadProducts","setError","useEffect","foods","Object","entries","sectionName","findex","key","OrderStyled","OrderContent","OrderContainer","editable","OrderItem","DetailItem","Order","items","setItems","subtotal","total","tax","processingFee","run","setUser","stopPropagation","splice","deleteItem","removeProduct","join","useOpenFood","useOrders","useTitle","document","title","App","PrivateRoute","Component","component","rest","render","pathname","state","from","AdminRoute","DashLinkGrid","DashLabel","DashLink","DashStyled","DashHelper","setCategoryWin","setProductWin","setProductUpdate","setOrderReport","CDialog","CDialogShadow","CDialogContent","CDialogFooter","CDashBanner","CDashBannerLabel","CatDialog","categoryWin","setName","setSuccess","token","userId","Authorization","createCategory","showSuccess","showError","onSubmit","autoFocus","required","ProdDialog","productWin","description","categories","shipping","photo","createdProduct","redirectedToProfile","formData","init","FormData","files","set","createProduct","accept","c","DeleteConfirmButton","UpdateButton","ProdUpdateDialog","productUpdate","products","setProducts","destroy","deleteProduct","p","Dashboard","AdminDashboard","CartStyled","CartContent","CartContainer","CartBanner","CartBannerName","PaymentStyled","CheckoutStyled","setRun","displaySubtotal","toFixed","displayTax","processingFeeN","displayProcessingFee","displayTotal","clientToken","instance","orderItems","ShipName","ShipEmail","ShipAddress","ShipCity","ShipState","ShipZip","subTotal","taxPrice","totalPrice","getToken","getBraintreeClientToken","deliveryMethod","buy","nonce","requestPaymentMethod","paymentData","processPayment","paymentMethodNonce","amount","createOrderData","createOrder","message","handleMethod","onBlur","showItems","options","authorization","paypal","flow","onInstance","Checkout","StyledTableCell","withStyles","theme","head","backgroundColor","palette","common","black","white","fontSize","TableCell","StyledTableRow","root","action","hover","TableRow","useStyles","makeStyles","table","minWidth","AdminOrders","statusValues","setStatusValues","ordersToProcess","status","loadOrders","listOrders","loadStatusValues","getStatusValues","handleStatusChange","orderId","updateOrderStatus","classes","TableContainer","Paper","Table","TableHead","align","TableBody","o","oIndex","scope","moment","createdAt","fromNow","showStatus","pIndex","padding","border","CustomizedTables","Routes","path","exact","Boolean","hostname","match","ReactDOM","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b520bf98.chunk.js","sourcesContent":["import styled from 'styled-components';\n\nexport const Title = styled.div`\n    font-family: 'Righteous', cursive;\n`","export const API = process.env.REACT_APP_API_URL;\n","import {API} from \"../config\";\n\nexport const signup = user => {\n    return fetch(`${API}/signup`,{\n         method: \"POST\",\n         headers:{\n             Accept: \"application/json\",\n             \"Content-Type\": \"application/json\"\n         },\n         body: JSON.stringify(user)\n     })\n     .then(response=> {\n         return response.json();\n     })\n     .catch(err => {\n         console.log(err);\n     });\n };\n\n export const signin = user => {\n    return fetch(`${API}/signin`,{\n         method: \"POST\",\n         headers:{\n             Accept: \"application/json\",\n             \"Content-Type\": \"application/json\"\n         },\n         body: JSON.stringify(user)\n     })\n     .then(response=> {\n         return response.json();\n     })\n     .catch(err=> {\n         console.log(err);\n     });\n };\n\n export const authenticate = (data, next) =>{\n     if(typeof window !== 'undefined') {\n         localStorage.setItem('jwt', JSON.stringify(data));\n         next();\n     }\n };\n\n export const signout = (next) => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('jwt');\n        next();\n        return fetch (`${API}/signout`, {\n            method: \"GET\"\n        })\n        .then(response => {\n            console.log(\"signout\", response);\n        })\n        .catch(err => console.log(err));\n    }\n };\n\n export const isAuthenticated = () => {\n     if(typeof window == 'undefined'){\n         return false;\n     }\n     if (localStorage.getItem('jwt')){\n         return JSON.parse(localStorage.getItem('jwt'));\n     } else {\n         return false;\n     }\n };\n\n export const guest = user => {\n    return fetch(`${API}/guest`,{\n         method: \"POST\",\n         headers:{\n             Accept: \"application/json\",\n             \"Content-Type\": \"application/json\"\n         },\n         body: JSON.stringify(user)\n     })\n     .then(response=> {\n         return response.json();\n     })\n     .catch(err=> {\n         console.log(err);\n     });\n };","import React, {Fragment} from 'react';\nimport {useHistory} from 'react-router-dom'\nimport styled from 'styled-components';\nimport {seaBlue} from \"../Styles/colors\";\nimport {Title} from \"../Styles/title\";\nimport {Link} from 'react-router-dom';\nimport {signout, isAuthenticated} from \"../auth\";\n\nconst NavbarStyled = styled.div`\n    background-color: ${seaBlue};\n    padding: 10px;\n    position: fixed;\n    width: 100%;\n    z-index: 999;\n`\n\nconst Logo = styled(Title)`\nfont-size: 20px;\ncolor: white;\ntext-shadow: 1px 1px 4px #380503;\n`\nconst LogoSignin = styled(Title)`\nfont-size: 20px;\ncolor: white;\ntext-shadow: 1px 1px 4px #380503;\ntext-align: right; \npadding-right: 30px;\n`\nconst {user} = isAuthenticated();\n\nexport function Navbar() {\n    const history = useHistory();\n    return <NavbarStyled>\n        <>\n        <Logo>\n            Koastal-Technologies <span role=\"img\" aria-label=\"KT\">🍻</span>\n\n           {/* {isAuthenticated() && isAuthenticated().user.role === 0 && (\n           <Link\n           className=\"nav-link\"\n           to=\"/dashboard\"\n           >\n           Dashboard\n           </Link>\n           )} */}\n           {'   '}\n           \n\n           {isAuthenticated() && isAuthenticated().user.role === 1 && (\n        <Link\n            className=\"nav-link\"\n            style={{cursor: \"pointer\", color: \"#ffffff\"}}\n            to=\"/admindash\"\n            >\n           Dashboard\n        </Link>\n         )}\n          \n          {'        '}\n          \n            <LogoSignin>\n                \n               {!isAuthenticated() &&(\n                   <Link\n                   to=\"/signin\">Sign-in</Link>\n                   \n               )}\n\n            {isAuthenticated() && (\n                <Fragment>\n            <li className=\"nav-item\">\n            {\"Hello \"}{user && user.name}{\"!    \"}\n                <span\n                className=\"nav-link\"\n                style={{cursor: \"pointer\", color: \"#ffffff\"}}\n                onClick={() =>\n                    signout(() => {\n                        history.push(\"/\"); localStorage.clear();\n                    })\n                }\n                >\n                    Signout \n                </span>\n                \n            </li>\n            </Fragment>\n            )}\n            </LogoSignin>\n               </Logo>\n               </>\n    </NavbarStyled>;\n}","export const seaBlue = \"#006994\";","import styled from 'styled-components';\n\nexport const Banner = styled.div`\nheight: 250px;\nbackground-image: url(\"img/banner.jpeg\");\nbackground-position: center;\nbackground-size: cover;\nfilter: contrast(85%);\n`","import {createGlobalStyle} from \"styled-components\";\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    font-family: 'Open Sans', sans-serif;\n  }\n  h1, h2, h3 {\n    font-family: 'Righteous', cursive;\n  }\n`","import styled from \"styled-components\";\nimport {Title} from \"../Styles/title\";\n\nexport const FoodGrid = styled.div`\ndisplay: grid;\ngrid-template-columns: 1fr 1fr;\ngap: 20px;\npadding-bottom: 40px;\n`;\nexport const FoodLabel = styled(Title)`\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding: 5px;\n`;\n\nexport const Food = styled.div`\nheight: 100px;\npadding: 10px;\nfont-size: 20px;\nbackground-image: ${({img}) => `url(${img});`} \nbackground-position: center;\nbackground-size: cover;\nfilter: contrast(70%);\nborder-radius: 7px;\nmargin-top: 5px;\ntransition-property: box-shadow margin-top filter;\ntransition-duration: .2s;\nbox-shadow: 0px 0px 4px 0px grey;\n&:hover {\n    cursor: pointer;\n    filter: contrast(100%);\n    margin-top: 0px;\n    margin-bottom: 5px;\n    box-shadow: 0px 5px 15px 0px grey;\n}\n`;","export function formatPrice(price){\n    return price.toLocaleString('en-US', {\n        style: 'currency',\n        currency: 'USD'\n    })\n}\n\nexport const foodItems =[\n    {\n    name: 'Pizza',\n    img: '/img/pizza.jpeg',\n    category: 'Pizza',\n    price: 15\n    },\n    {\n        name: 'Cheese Pizza',\n        img: '/img/cheesepizza.jpeg',\n        category: 'Pizza',\n        price: 18\n        },\n    {\n        name: 'Pepperoni Pizza',\n        img: '/img/pepperonipizza.jpeg',\n        category: 'Pizza',\n        price: 20,\n     },\n     {\n        name: 'Sausage Pizza',\n        img: '/img/sausagepizza.jpeg',\n        category: 'Pizza',\n        price: 20\n    },\n    {\n        name: 'Shrimp Pizza',\n        img: '/img/shrimppizza.jpeg',\n        category: 'Pizza',\n        price: 25\n    },\n    {\n    name: 'Cheese Burger',\n    img: '/img/cheeseburger.jpeg',\n    category: 'Burgers',\n    price: 12\n    },\n    {\n    name: 'Cheese Burger',\n    img: '/img/cheeseburger2.jpeg',\n    category: 'Burgers',\n    price: 12.99\n    },\n    {\n    name: 'Bacon Cheese Burger',\n    img: '/img/baconburger.jpeg',\n    category: 'Burgers',\n    price: 14.5\n    },\n    {\n        name: 'Egg Rolls',\n        img: '/img/eggrolls.jpeg',\n        category: 'Appetizer',\n        price: 8\n    },    \n    {\n    name: 'Chicken Fingers',\n    img: '/img/fingerfoods.jpeg',\n    category: 'Appetizer',\n    price: 7.75\n    },\n    {\n    name: 'Mozzarella Sticks',\n    img: '/img/mozzarellasticks.jpeg',\n    category: 'Appetizer',\n    price: 5\n    },\n    {\n        name: 'Wings',\n        img: '/img/wings.jpeg',\n        category: 'Appetizer',\n        price: 9\n        },\n    {\n    name: 'Sandwich',\n    img: '/img/sandwich.jpeg',\n    category: 'Sandwich',\n    price: 12\n    },  \n    {\n        name: 'Cheese Steak',\n        img: '/img/cheesesteak.jpeg',\n        category: 'Sandwich',\n        price: 15\n  },    \n  {\n    name: 'Buffalo Chicken Sandwich',\n    img: '/img/buffalochickensandwich.jpeg',\n    category: 'Sandwich',\n    price: 12\n    },  \n    {\n        name: 'Italian Hoagie',\n        img: '/img/italianhoagie.jpeg',\n        category: 'Sandwich',\n        price: 10\n        },  \n    {\n    name: 'Drinks',\n    img: '/img/drinks.jpeg',\n    category: 'Drinks',\n    price: 7\n    },\n    {\n    name: 'Red Wine',\n    img: '/img/redwine.jpeg',\n    category: 'Drinks',\n    price: 10\n    },\n    {\n    name: 'Martini',\n    img: '/img/martini.jpeg',\n    category: 'Drinks',\n    price: 12\n    },\n    {\n        name: 'Cape May IPA',\n        img: '/img/capemayipa.jpeg',\n        category: 'Drinks',\n        price: 8\n    },\n    {\n        name: 'Soda',\n        price: 1,\n        category: 'Soda',\n        choices: ['Coke', 'Pepsi', 'Sprite', 'Root Beer']\n    }\n];\n\nexport const foods = foodItems.reduce((res, food) => {\n    if(!res[food.category]){\n        res[food.category]=[];\n    }\n    res[food.category].push(food);\n    return res;\n}, {});","import React from 'react';\nimport styled from 'styled-components';\nimport {Title} from \"../Styles/title\";\nimport { seaBlue } from '../Styles/colors';\n\nconst QuantityInputStyled = styled.input`\n    font-size: 18px;\n    width: 24px;\n    text-align: center;\n    border: none;\n    outline: none;\n`\nconst IncrementContainer = styled(Title)`\n display: flex;\n height: 24px;\n`\nconst IncrementButton = styled.div`\n width: 23px;\n color: ${seaBlue};\n font-size:20px;\n text-align: center;\n cursor: pointer;\n line-height: 23px;\n margin: 0px 10px;\n border: 1px solid ${seaBlue};\n ${({disabled})=> \n disabled &&\n `opacity: 0.5;\n    pointer-events: none;\n    `}\n&:hover{\n    background-color: #31BBBF;\n}\n`;\n\nexport function QuantityInput({quantity}) {\n    return(\n    <IncrementContainer>\n    <div>Quantity: </div>\n    <IncrementButton onClick={()=>{\n        quantity.setValue(quantity.value - 1)\n    }} disabled={quantity.value === 1}>-</IncrementButton>\n    <QuantityInputStyled {...quantity}/>\n    <IncrementButton onClick={()=>{\n        quantity.setValue(quantity.value + 1)\n    }}>+</IncrementButton>\n    </IncrementContainer>\n    );\n}","import styled from \"styled-components\";\nimport React from \"react\";\n\nconst ToppingGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n`;\n\nconst ToppingCheckbox = styled.input`\n  margin-right: 10px;\n  cursor: pointer;\n`;\n\nconst CheckboxLabel = styled.label`\n  cursor: pointer;\n`;\n\nexport function Toppings({ toppings, checkTopping }) {\n  return (\n    <ToppingGrid>\n      {toppings.map((topping, i) => (\n        <CheckboxLabel>\n          <ToppingCheckbox\n            type=\"checkbox\"\n            checked={topping.checked}\n            onClick={() => {\n              checkTopping(i);\n            }}\n          />\n          {topping.name}\n        </CheckboxLabel>\n      ))}\n    </ToppingGrid>\n  );\n}\n","import { useState } from \"react\";\n\nexport function useToppings(defaultTopping) {\n  const [toppings, setToppings] = useState(\n    defaultTopping || getDefaultToppings()\n  );\n\n  function checkTopping(index) {\n    const newToppings = [...toppings];\n    newToppings[index].checked = !newToppings[index].checked;\n    setToppings(newToppings);\n  }\n\n  return {\n    checkTopping,\n    toppings\n  };\n}\n\nconst toppingsList = [\n  \"Extra Cheese\",\n  \"Pepperoni\",\n  \"Sausage\",\n  \"Onions\",\n  \"Peppers\",\n  \"Pineapple\",\n  \"Ham\",\n  \"Spinach\",\n  \"Artichokes\",\n  \"Mushrooms\",\n  \"Anchovies\"\n];\n\nfunction getDefaultToppings() {\n  return toppingsList.map(topping => ({\n    name: topping,\n    checked: false\n  }));\n}\n\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst CursorPointer = `cursor: pointer`;\nconst RadioInput = styled.input`\n    ${CursorPointer}\n`;\nconst Label = styled.label`\n    ${CursorPointer}\n`;\n\nexport function Choices ({openFood, choiceRadio}){\n    return (\n        <>\n        <h3> Choose One:</h3>\n        {openFood.choices.map(choice => (\n            <>\n                <RadioInput\n                type=\"radio\"\n                id={choice}\n                name=\"choice\"\n                value={choice}\n                checked={choiceRadio.value === choice}\n                onChange={choiceRadio.onChange}/>\n                <Label for={choice}> {choice}</Label>\n            </>\n        ))}\n        </>\n    )\n}","export const addItem = (item) =>{\n    let cart = [];\n    if(typeof window !== 'undefined'){\n        if(localStorage.getItem('cart')){\n            cart = JSON.parse(localStorage.getItem('cart'))\n        }\n        cart.push({\n            ...item, \n            count: 1\n        })\n\n          // remove duplicates\n        // build an Array from new Set and turn it back into array using Array.from\n        // so that later we can re-map it\n        // new set will only allow unique values in it\n        // so pass the ids of each object/product\n        // If the loop tries to add the same value again, it'll get ignored\n        // ...with the array of ids we got on when first map() was used\n        // run map() on it again and return the actual product from the cart\n\n        // cart = Array.from(new Set(cart.map(p => p._id))).map(id => {\n        //     return cart.find(p => p._id === id);\n        // });\n\n        localStorage.setItem('cart', JSON.stringify(cart));\n       // next();\n    }\n};\n\nexport const getCart = () => {\n    if(typeof window !== 'undefined'){\n        if(localStorage.getItem('cart')){\n            return JSON.parse(localStorage.getItem('cart'));\n        }\n    }\n    return [];\n};\n\nexport const updateItem = (productId, count) => {\n    let cart = [];\n    if(typeof window !== 'undefined'){\n        if(localStorage.getItem('cart')){\n            cart = JSON.parse(localStorage.getItem('cart'));\n        }\n        cart.map((product, i) => {\n            if(product._id === productId){\n                cart[i].quantity = count;\n            }\n        })\n        localStorage.setItem('cart', JSON.stringify(cart));\n    }\n};\n\nexport const removeItem = (removeProduct) => {\n    let cart = [];\n    if(typeof window !== 'undefined'){\n        if(localStorage.getItem('cart')){\n            cart = JSON.parse(localStorage.getItem('cart'));\n        }\n        cart.map((product, i) => {\n            if(product._id === removeProduct){\n                cart.splice(i, 1);\n            }\n        });\n        localStorage.setItem('cart', JSON.stringify(cart));\n    }\n    return cart;\n};\n\nexport const emptyCart = next => {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('cart');\n        next();\n    }\n};\n\nexport const addSubtotal = (item) =>{\n    let subTotal = item;\n    if(typeof window !== 'undefined'){\n        if(localStorage.getItem('subTotal')){\n            subTotal = JSON.parse(localStorage.getItem('subTotal'))\n        }\n\n          // remove duplicates\n        // build an Array from new Set and turn it back into array using Array.from\n        // so that later we can re-map it\n        // new set will only allow unique values in it\n        // so pass the ids of each object/product\n        // If the loop tries to add the same value again, it'll get ignored\n        // ...with the array of ids we got on when first map() was used\n        // run map() on it again and return the actual product from the cart\n\n        localStorage.setItem('subTotal', JSON.stringify(subTotal));\n       // next();\n    }\n};","import React from 'react';\nimport styled from 'styled-components';\nimport {FoodLabel} from \"../Menu/FoodGrid\";\nimport {seaBlue} from '../Styles/colors';\nimport {Title} from '../Styles/title';\nimport {formatPrice} from \"../Data/FoodData\";\nimport {QuantityInput} from \"./QuantityInput\";\nimport {useQuantity} from \"../Hooks/useQuantity\";\nimport {Toppings} from \"./Toppings\";\nimport {useToppings} from \"../Hooks/useToppings\";\nimport {useChoice} from \"../Hooks/useChoice\";\nimport {Choices} from \"./Choices\";\nimport {addItem, updateItem} from \"../Cart/carthelper\";\nimport {API} from \"../config\";\n\nexport const Dialog = styled.div`\n    width: 500px;\n    background-color: white;\n    position: fixed;\n    top: 75px;\n    z-index: 5;\n    max-height: calc(100% - 100px);\n    left: calc(50% - 250px);\n    display: flex;\n    flex-direction: column;\n`;\nconst DialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`;\n\nconst DialogBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\n${({img}) => (img ? `background-image: url(${img});` : `min-height: 75px;`)}\nbackground-position: center;\nbackground-size: cover;\n`;\n\nconst DialogBannerName = styled(FoodLabel)`\n    font-size: 30px;\n    padding: 5px 40px;\n    top: ${({img}) => (img ? `100px` : `20px`)};\n`;\n\nfunction refreshPage() {\n    window.location.reload(false);\n  }\n\nconst pricePerTopping = 0.5;\n\nexport function getPrice(order){\n    return order.quantity * (order.price + order.toppings.filter(t => t.checked).length * pricePerTopping);\n}\n//overflow auto adds the scroll bar to the dialog content area if needed\nexport const DialogContent = styled.div`\noverflow: auto; \nmin-height: 100px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\n\nexport const DialogFooter = styled.div`\nbox-shadow: 0px -2px 10px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\n\nexport const ConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nfunction hasToppings(food){\n    return food.category.name === 'Pizza';\n}\n\nfunction FoodDialogContainer({openFood, setOpenFood, setOrders, orders}){\n    const quantity = useQuantity (openFood && openFood.quantity);\n    const toppings = useToppings(openFood.toppings);\n    const choiceRadio = useChoice(openFood.choice);\n    const isEditing = openFood.index > -1;\n\n    function close() {\n        setOpenFood();\n    }\n\n    const order ={\n        ...openFood,\n        quantity: quantity.value,\n        toppings: toppings.toppings,\n        choice: choiceRadio.value,\n    };\n\n    function editOrder(){\n        const newOrders = [...orders];\n        newOrders[order.index] = order;\n        updateItem(newOrders[order.index]._id, quantity);//not working\n        setOrders(newOrders);\n        close();\n        refreshPage();\n    };\n\n    function addToOrder(){\n        setOrders([...orders, order]);\n        addItem(order);\n        console.log(order);\n        close();\n        refreshPage();\n    }\n    return (\n    <>\n    <DialogShadow onClick={close}/>\n    <Dialog> \n    <DialogBanner img={`${API}/product/photo/${openFood._id}`}>\n        <DialogBannerName>{openFood.name}</DialogBannerName>\n    </DialogBanner>\n    <DialogContent>\n        <QuantityInput quantity={quantity}/>\n        {hasToppings(openFood) && (\n        <>\n            <h3>Add Toppings:</h3>\n            <Toppings {...toppings}/>\n        </>)}\n        {openFood.choices && <Choices openFood={openFood} choiceRadio={choiceRadio}/>}\n        \n    </DialogContent>\n    <DialogFooter>\n    <ConfirmButton \n    onClick={isEditing ? editOrder : addToOrder}\n    disabled={openFood.choices && !choiceRadio.value}>\n        {isEditing ? `Update order` : `Add to order: `}{formatPrice(getPrice(order))}</ConfirmButton>\n    </DialogFooter>\n    </Dialog>\n    </>\n    );\n}\n\nexport function FoodDialog(props){\n    if(!props.openFood) return null;\n    return <FoodDialogContainer {...props}/>\n}","import {useState} from 'react';\n\nexport function useQuantity(defaultQuantity){\n    const [value, setValue] = useState(defaultQuantity || 1);\n\n    function onChange(e){\n        if(!(+e.target.value >= 1)){\n            setValue(1);\n            return;\n        }\n        setValue(+e.target.value);\n    }\n\n    return{\n        value,\n        setValue,\n        onChange\n    };\n}","import {useState} from \"react\";\n\nexport function useChoice(defaultChoice) {\n    const [value, setValue] = useState(defaultChoice);\n\n    function onChange(e){\n        setValue(e.target.value);\n    }\n\n    return{\n        value,\n        onChange\n    };\n}","import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Navbar} from '../Navar/Navbar';\nimport {Banner} from \"../Banner/Banner\";\nimport {GlobalStyle} from \"../Styles/GlobalStyle\";\nimport {FoodDialog} from \"../FoodDialog/FoodDialog\";\nimport styled from \"styled-components\";\nimport {Title} from \"../Styles/title\";\nimport {signup, authenticate, isAuthenticated} from '../auth';\n\nexport const SigninGrid = styled.div`\ndisplay: grid;\ngrid-template-columns: 1fr;\ngap: 20px;\npadding-bottom: 40px;\n`;\nexport const SigninLabel = styled(Title)`\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding: 5px;\n`;\n\nfunction Signup() {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        success: false,\n    });\n\n    const {name, email, password, success, error} = values;\n //   const {user} = isAuthenticated();\n \n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]:event.target.value});\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n         setValues({...values, error: false, loading: true});\n         signup({name, email, password})\n          .then(data => {\n              if(data.error) {\n              setValues({...values, error: data.error, success: false});\n              } else {\n        //          authenticate(data, () => {\n                      setValues({\n                          ...values,\n                          name: '',\n                          email: '',\n                          password: '',\n                          error: '',\n                          success: true\n        //                  redirectToReferrer: true\n                      });\n        //          });\n             }\n          });\n     };\n\n    const signUpForm = () =>(\n        <form>\n         <div className=\"form-group\">\n             <label className=\"text-muted\">Name</label>\n              <input onChange={handleChange('name')} type=\"name\" \n              className=\"form-control\" value={name}/>\n        </div>\n        <div className=\"form-group\">\n             <label className=\"text-muted\">Email</label>\n              <input onChange={handleChange('email')} type=\"email\" \n              className=\"form-control\" value={email}/>\n        </div>\n         <div className=\"form-group\">\n             <label className=\"text-muted\">Password</label>\n              <input onChange={handleChange('password')} type=\"password\" \n              className=\"form-control\" value={password}/>\n        </div>\n        <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n        </form>\n    );\n\n     const showError = () => \n         (\n         <div className=\"alert alert-danger\" style={{display: error ? '' : 'none'}}>\n             {error}\n         </div>);\n     const showSuccess = () => (\n        <div className=\"alert alert-danger\" style={{display: success ? '' : 'none'}}>\n            New Account Created. Please <Link to=\"/signin\">Signin...</Link>\n        </div>\n    );\n\n    \n  return (\n    <>\n    <GlobalStyle/>\n    <FoodDialog/>\n    <Navbar/>\n    <Banner/>\n    <SigninGrid>\n        <SigninLabel>\n        Please Register!\n\n        {showSuccess()}\n        {showError()}\n    {signUpForm()}\n    </SigninLabel>\n    </SigninGrid>\n\n   </>\n  );\n}\n\nexport default Signup;\n","import React, {useState} from 'react';\nimport {Redirect, Link} from 'react-router-dom';\nimport {Navbar} from '../Navar/Navbar';\nimport {Banner} from \"../Banner/Banner\";\nimport {GlobalStyle} from \"../Styles/GlobalStyle\";\nimport {FoodDialog} from \"../FoodDialog/FoodDialog\";\nimport styled from \"styled-components\";\nimport {Title} from \"../Styles/title\";\nimport {signin, authenticate, isAuthenticated, guest} from '../auth';\n\nfunction refreshPage() {\n    window.location.reload(false);\n  }\n\nexport const SigninGrid = styled.div`\ndisplay: grid;\ngrid-template-columns: 1fr;\ngap: 20px;\npadding-bottom: 40px;\n`;\nexport const SigninLabel = styled(Title)`\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding-right: 15px;\n`;\n\nfunction Signin() {\n    const [values, setValues] = useState({\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        loading: false,\n        redirectToReferrer: false,\n    });\n\n    const {email, password, loading, error, redirectToReferrer} = values;\n    const {user} = isAuthenticated();\n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]:event.target.value});\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({...values, error: false, loading: true});\n        signin({email, password})\n        .then(data => {\n            if(data.error) {\n                setValues({...values, error: data.error, loading: false});\n            } else {\n                authenticate(data, () => {\n                    setValues({\n                        ...values,\n                        redirectToReferrer: true\n                    });\n                    refreshPage()\n                });\n            }\n        });\n    };\n\n    const signUpForm = () =>(\n        <form>\n        <div className=\"form-group\">\n             <label className=\"text-muted\">Email: </label>\n              <input onChange={handleChange('email')} type=\"email\" \n              className=\"form-control\" value={email}/>\n        </div>\n         <div className=\"form-group\">\n             <label className=\"text-muted\">Password: </label>\n              <input onChange={handleChange('password')} type=\"password\" \n              className=\"form-control\" value={password}/>\n        </div>\n        <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n       <div> <Link to=\"/signup\">Click here to register...</Link></div>\n        </form>\n    );\n\n    const showError = () => (\n        <div className=\"alert alert-danger\" style={{display: error ? '' : 'none'}}>\n            {error}\n        </div>\n    );\n\n    const showLoading = () => \n       loading && (\n       <div className=\"alert alert-info\">\n           <h2>Loading...</h2>\n       </div>\n    );\n\n    const redirectUser = () => {\n        if(redirectToReferrer){\n            if(user && user.role ===1){\n                return <Redirect to=\"/admindash\"/>;\n            } else{\n                return <Redirect to=\"/\"/>;\n            }\n        }\n        // if(isAuthenticated()){\n        //  return <Redirect to=\"/\" />;\n        // }\n    };\n\n\n  return (\n    <>\n    <GlobalStyle/>\n    <FoodDialog/>\n    <Navbar/>\n    <Banner/>\n    <SigninGrid>\n        <SigninLabel>\n            Please Sign-in!\n    {showLoading()}\n    {showError()}\n    {signUpForm()}\n    {redirectUser()}\n    </SigninLabel>\n    </SigninGrid>\n\n   </>\n  );\n}\n\nexport default Signin;\n","import {API} from \"../config\";\n\nexport const createCategory = (userId, token, category) => {\n    return fetch(`${API}/category/create/${userId}`,{\n         method: 'POST',\n         headers:{\n             Accept: 'application/json',\n             'Content-Type': 'application/json',\n             Authorization: `Bearer ${token}`\n         },\n         body: JSON.stringify(category)\n     })\n     .then(response=> {\n         return response.json();\n     })\n     .catch(err=> {\n         console.log(err);\n     });\n };\n\n export const createProduct = (userId, token, product) => {\n    return fetch(`${API}/product/create/${userId}`,{\n         method: 'POST',\n         headers:{\n             Accept: 'application/json',\n             Authorization: `Bearer ${token}`\n         },\n         body: product\n     })\n     .then(response=> {\n         return response.json();\n     })\n     .catch(err=> {\n         console.log(err);\n     });\n };\n\n export const getCategories = () => {\n    return fetch(`${API}/categories`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const read = productId => {\n    return fetch(`${API}/product/${productId}`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\n\n/**\n  * perform crud on products\n  * get all products\n  * get a single product\n  * update single product\n  * delete single product\n  */\n//undefined returns all, a number will restrict it to that limit\nexport const getProducts = () => {\n    return fetch(`${API}/products?limit=undefined`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const deleteProduct = (productId, userId, token) => {\n    return fetch(`${API}/product/${productId}/${userId}`, {\n        method: \"DELETE\",\n        headers:{\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const getProduct = (productId) => {\n    return fetch(`${API}/product/${productId}`, {\n        method: \"GET\"\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const updateProduct = (productId, userId, token, product) => {\n    return fetch(`${API}/product/${productId}/${userId}`, {\n        method: \"PUT\",\n        headers:{\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: product\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const getBraintreeClientToken = (userId, token) => {\n    return fetch(`${API}/braintree/getToken/${userId}`, {\n        method: \"GET\",\n        headers:{\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const processPayment = (userId, token, paymentData) => {\n    return fetch(`${API}/braintree/payment/${userId}`, {\n        method: \"POST\",\n        headers:{\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(paymentData)\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const createOrder = (userId, token, createOrderData) => {\n    return fetch(`${API}/order/create/${userId}`, {\n        method: \"POST\",\n        headers:{\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({order: createOrderData})\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const listOrders = (userId, token) => {\n    return fetch(`${API}/order/list/${userId}`, {\n        method: \"GET\",\n        headers:{\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const getStatusValues = (userId, token) => {\n    return fetch(`${API}/order/status-values/${userId}`, {\n        method: \"GET\",\n        headers:{\n            Accept: 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n\nexport const updateOrderStatus = (userId, token, orderId, status) => {\n    return fetch(`${API}/order/${orderId}/status/${userId}`, {\n        method: \"PUT\",\n        headers:{\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify({status, orderId})\n    })\n    .then(response => {\n        return response.json();\n    })\n    .catch(err=> console.log(err));\n};\n","import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport {getProducts} from \"../admin/adminApi\";\nimport {Food, FoodGrid, FoodLabel} from \"./FoodGrid\";\nimport {formatPrice} from \"../Data/FoodData\";\nimport {API} from \"../config\";\n\nconst MenuStyled = styled.div`\n    height: 1000px;\n    margin: 0px 400px 50px 20px;\n`\n\nexport function Menu({setOpenFood}){\n    const [loadProducts, setLoadProducts] = useState([]);\n    const [error, setError] = useState(false);\n\n    const loadAllProducts = () => {\n        getProducts().then(data=>{\n            if(data.error){\n                setError(data.error);\n            }else{\n                setLoadProducts(data);\n            }\n        });\n    };\n\n    useEffect(()=>{\n        loadAllProducts()\n        \n    }, []);\n\n    useEffect(()=>{console.log(loadProducts)}, [loadProducts])\n\n    const foods = loadProducts.reduce((res, food) => {\n        if(!res[food.category.name]){\n            res[food.category.name]=[];\n        }\n        res[food.category.name].push(food);\n        return res;\n    }, {});\n\n    return (\n    <MenuStyled>\n        {Object.entries(foods).map(([sectionName, foods]) => (\n            <>\n        <h1>{sectionName}</h1>\n        <FoodGrid>\n        {foods.map((food, findex) => (\n            <Food key={findex} img={`${API}/product/photo/${food._id}`} onClick={()=>{\n                setOpenFood(food);\n            }}>\n                <FoodLabel>\n                    <div>\n                        {food.name}\n                    </div>\n                    <div>\n                        {formatPrice(food.price)}\n                    </div>\n                </FoodLabel>\n            </Food>\n        ))}\n        </FoodGrid>\n        </>\n        ))}\n    </MenuStyled>\n    );\n}","import React, {useState, useEffect} from 'react';\nimport {Redirect, Link} from 'react-router-dom';\nimport styled from 'styled-components';\nimport {DialogContent, DialogFooter, ConfirmButton} from \"../FoodDialog/FoodDialog\";\nimport {formatPrice} from \"../Data/FoodData\";\nimport {getPrice} from \"../FoodDialog/FoodDialog\";\nimport {removeItem, getCart} from \"../Cart/carthelper\";\nimport {signin, authenticate} from '../auth';\n\n  \nconst OrderStyled = styled.div`\nposition: fixed;\nright: 0px;\ntop: 57px;\nwidth: 340px;\nbackground-color: white;\nheight: calc(100% - 48px);\nz-index: 10;\nbox-shadow: 4px 0px 5px 4px grey;\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst OrderContent = styled(DialogContent)`\npadding: 20px;\nheight: 100%\n`;\n\nconst OrderContainer = styled.div`\n    padding: 10px 0px;\n    border-bottom: 1px solid grey;\n    ${({editable}) =>\neditable ? `\n&:hover {\n    cursor: pointer;\n    background-color: #e7e7e7;\n}\n`\n    : `\n    pointer-events: none;\n    `}\n`;\n\nconst OrderItem = styled.div`\n    padding: 10px 0px;\n    display: grid;\n    grid-template-columns: 20px 150px 20px 60px;\n    justify-content: space-between;\n`;\n\nconst DetailItem = styled.div`\n    color: gray;\n    font-size: 10px;\n`\n\nfunction refreshPage() {\n    window.location.reload(false);\n  }\n\nexport function Order({orders, setOrders, setOpenFood}) {\n    const [items, setItems] = useState([]);\n    const subtotal = items.reduce((total, order) => {\n        return total + getPrice(order);\n    }, 0);\n    const tax = subtotal * 0.07;\n    const processingFee = (tax + subtotal) * 0.05;\n    const total = subtotal + tax + processingFee;\n    const [run, setRun] = useState(false);\n    const [user, setUser] = useState({\n        email: \"guest@guest.com\",\n        password: \"Franslk1\",\n        error: \"\",\n        loading: false,\n        redirectToReferrer: false,\n    });\n\n    const {email, password, loading, error, redirectToReferrer} = user;\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setUser({...user, error: false, loading: true});\n        signin({email, password})\n        .then(data => {\n            if(data.error) {\n                setUser({...user, error: data.error, loading: false});\n            } else {\n                authenticate(data, () => {\n                    setUser({\n                        ...user,\n                        redirectToReferrer: true\n                    });\n                    refreshPage()\n                });\n            }\n        });\n    };\n\n    const redirectUser = () => {\n        if(redirectToReferrer){\n            return <Redirect to=\"/checkout\"/>;\n        }\n    };\n\n    useEffect(()=> {\n        setItems(getCart());\n        console.log(items);\n    }, [run]);\n\n    const deleteItem= (index) => {\n        const newOrders = [...orders];\n        newOrders.splice(index, 1);\n        setOrders(newOrders);\n        \n    }\n\n    return <OrderStyled>\n    {items.length === 0 ?<OrderContent>Your cart is empty...\n        </OrderContent> : \n        <OrderContent>\n            {\" \"}\n            <OrderContainer>\n            You have {items.length} item(s) in your cart.\n            </OrderContainer>\n            {\" \"}\n            {items.map((order, index) => (\n                <OrderContainer editable>\n                    <OrderItem\n                    onClick={() => {\n                        setOpenFood({...order, index});\n\n                    }}\n                    >\n                        <div>{order.quantity}</div>\n                        <div>{order.name}</div>\n                        <div \n                        style={{cursor: 'pointer'}} \n                        onClick={e =>{\n                            e.stopPropagation();\n                            deleteItem(index);removeItem(order._id);refreshPage()}}>🗑</div>\n            <div>{formatPrice(getPrice(order))}</div>\n                    </OrderItem>\n                    <DetailItem>\n                        {order.toppings\n                        .filter(t => t.checked)\n                        .map(topping => topping.name)\n                        .join(\", \")\n                        }\n                    </DetailItem>\n                    {order.choice && <DetailItem>{order.choice}\n                    </DetailItem>}\n                </OrderContainer>\n                 ))}\n                <OrderContainer>\n                    <OrderItem>\n                    <div/>\n                    <div>Sub-Total:</div>\n                    <div>{formatPrice(subtotal)}</div>\n                    </OrderItem>\n                    <OrderItem>\n                    <div/>\n                    <div>Tax:</div>\n                    <div>{formatPrice(tax)}</div>\n                    </OrderItem>\n                    <OrderItem>\n                    <div/>\n                    <div>Processing Fee:</div>\n                    <div>{formatPrice(processingFee)}</div>\n                    </OrderItem>\n                </OrderContainer>\n                <OrderContainer>\n                    <OrderItem>\n                    <div/>\n                    <div>Total</div>\n                    <div>{formatPrice(total)}</div>\n                    </OrderItem>\n                </OrderContainer>\n           \n        </OrderContent>}\n        <DialogFooter>\n            <ConfirmButton>\n                <Link to=\"/checkout\">\n                Checkout </Link>\n            </ConfirmButton>\n            <ConfirmButton>\n                <Link to=\"/checkout\"\n                onClick={clickSubmit}\n                >\n                Guest Checkout </Link>\n                {redirectUser()}\n            </ConfirmButton>\n            \n        </DialogFooter>\n    </OrderStyled>\n}","import {useState} from 'react';\n\nexport function useOpenFood(){\n    const [openFood, setOpenFood] = useState();\n    return { openFood, setOpenFood}\n}","import {useState} from 'react';\n\nexport function useOrders(){\n    const [orders, setOrders] = useState([]);\n    return { orders, setOrders};\n}","import {useEffect} from 'react';\n\nexport function useTitle({openFood, orders}){\n    useEffect(()=>{\n    if(openFood){\n        document.title = openFood.name;\n    } else {\n        document.title = \n        orders.length === 0 \n        ? `What's for dinner?` : `[${orders.length}] items in your order!`;\n    }\n});\n}","import React from 'react';\nimport {Navbar} from './Navar/Navbar';\nimport {Banner} from \"./Banner/Banner\";\nimport {Menu} from \"./Menu/Menu\";\nimport {GlobalStyle} from \"./Styles/GlobalStyle\";\nimport {FoodDialog} from \"./FoodDialog/FoodDialog\";\nimport {Order} from \"./Order/Order\";\nimport {useOpenFood} from \"./Hooks/useOpenFood\";\nimport {useOrders} from \"./Hooks/useOrders\";\nimport {useTitle} from \"./Hooks/useTitle\";\n\nfunction App() {\n  const openFood = useOpenFood();\n  const orders = useOrders();\n  useTitle({...openFood, ...orders});\n  \n  return (\n    <>\n    <GlobalStyle/>\n    <FoodDialog {...openFood}{...orders}/>\n    <Navbar/>\n    <Order {...orders} {...openFood}/>\n    <Banner/>\n    <Menu {...openFood}/>   \n   </>\n  );\n}\n\nexport default App;\n","import React, {Component} from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport {isAuthenticated} from './index';\n\nconst PrivateRoute = ({component: Component, ...rest}) => (\n    <Route {...rest} render={props => isAuthenticated()? (\n        <Component {...props}/>\n    ) :(\n        <Redirect to={{\n        pathname: '/signin', \n        state: {from: props.location}\n    }}/>\n    )}/>\n)\nexport default PrivateRoute;","import React, { Component } from 'react';\nimport {Route, Redirect} from 'react-router-dom';\nimport {isAuthenticated} from './index';\n\nconst AdminRoute = ({component: Component, ...rest})=> (\n    <Route {...rest} render={props => isAuthenticated() && isAuthenticated().user.role === 1 ? (\n        <Component {...props}/>\n    ): (\n        <Redirect to={{\n            pathname: '/signin', \n            state:{from: props.location}\n        }}/>\n    )}/>\n)\n\nexport default AdminRoute;","import styled from \"styled-components\";\nimport {Title} from \"../Styles/title\";\n\nexport const DashLinkGrid = styled.div`\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    gap: 20px\n`;\n\nexport const DashLabel = styled(Title)`\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding: 5px;\n`;\n\nexport const DashLink = styled.div`\n    height: 100px;\n    padding: 10px;\n    font-size: 20px;\n    background-image: url(\"img/shark.jpeg\");\n    background-position: center;\n    background-size: cover;\n    filter: contrast(50%);\n    border-radius: 10px;\n    margin-top: 5px;\n    transition-property: box-shadow margin-top filter;\n    transition-duration: .2s;\n    box-shadow: 0px 0px 4px 0px grey;\n    &:hover {\n        cursor: pointer;\n        filter: contrast(100%);\n        margin-top: 0px;\n        margin-bottom: 5px;\n        box-shadow: 0px 5px 15px 0px grey;\n    }\n`","import React from 'react';\nimport styled from 'styled-components';\nimport {DashLinkGrid, DashLink, DashLabel} from './dashlinkhelper';\nimport {signin, authenticate, isAuthenticated} from '../auth';\nimport {Redirect, Link} from 'react-router-dom';\n\nconst DashStyled = styled.div`\n    height: 500px;\n    margin: 0px 200px 50px 100px;\n`\n\nexport function DashHelper({setCategoryWin, setProductWin, setProductUpdate, setOrderReport}){\n\n    const {user} = isAuthenticated();\n\n    const orderRedirect = () => {\n        console.log(\"redirect\")\n            if(user && user.role ===1){\n                console.log(\"/adminorders\")\n                return <Redirect to=\"/adminorders\"/>;\n            } else{\n                console.log(\"/\")\n                return <Redirect to=\"/\"/>;\n            }\n    };\n\n    return <DashStyled>\n        <h1>Admin Options</h1>\n        <>\n        <DashLinkGrid>\n            <DashLink onClick={()=> {\n                setCategoryWin(\"Add Category\")\n            }}>\n                <DashLabel>\n                    Add Category\n                </DashLabel>\n            </DashLink>\n            <DashLink onClick={()=> {\n                setProductWin(\"Add Product\")\n            }}>\n                <DashLabel>Add Product\n                    \n                </DashLabel>\n                </DashLink>\n                <DashLink onClick={()=> {\n                orderRedirect()\n            }}>\n                <DashLabel> View Orders</DashLabel></DashLink>\n            <DashLink onClick={()=> {\n                setProductUpdate(\"Manage Product\")\n            }}><DashLabel>Manage Products</DashLabel></DashLink>\n            <DashLink><DashLabel>User Information</DashLabel></DashLink>\n            </DashLinkGrid>\n</>\n    </DashStyled>\n}","import React, {useState} from 'react';\nimport styled from 'styled-components';\nimport { DashLabel } from './dashlinkhelper';\nimport {seaBlue} from '../Styles/colors';\nimport {Title} from '../Styles/title';\nimport {createCategory} from '../admin/adminApi';\nimport {isAuthenticated} from '../auth';\n\nconst CDialog = styled.div`\nwidth: 500px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst CDialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`\n\nconst CDialogContent = styled.div`\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\n\nexport const ConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nconst CDialogFooter = styled.div`\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\n\n\n\nconst CDashBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\n\nconst CDashBannerLabel= styled(DashLabel)`\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n`\n\nexport function CatDialog({categoryWin , setCategoryWin}){\n    const [name, setName] = useState('');\n    const [error, setError] = useState(false);\n    const [success, setSuccess] = useState(false);\n\n    // destructure user and token from localstorage\n    const {user, token} = isAuthenticated();\n\n    const handleChange = e => {\n        setError('')\n        setName(e.target.value)\n    };\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        setError(\"\");\n        setSuccess(false);\n        //make request to api to create category\n        createCategory(user._id, token, {name})\n        .then(data => {\n            if(data.error){\n                setError(data.error);\n            }else {\n                setError(\"\");\n                setSuccess(true);\n            }\n        });\n    };\n\n    const newCategoryForm = () => (\n        <form onSubmit={clickSubmit}>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category name to add: </label>\n                <input \n                type=\"text\" \n                className=\"form-control\" \n                onChange={handleChange} \n                value={name}\n                autoFocus\n                required/>\n                </div>\n                <button className=\"btn btn-outline-primary\">Create Category</button>\n        </form>\n    );\n\n    const showSuccess = () => {\n        if(success){\n            return <h3 className=\"text-success\">{name} has been created!</h3>\n        }\n    };\n\n    const showError = () => {\n        if(error){\n            return <h3 className=\"text-danger\">Category needs to be unique.</h3>\n        }\n    };\n\n    function close() {\n        setCategoryWin();\n    }\n\n\n    if(!categoryWin) return null;\n    return (\n     <>\n    <CDialogShadow onClick={close}/>\n    <CDialog>\n        <CDashBanner>\n            <CDashBannerLabel>\n                {categoryWin}\n            </CDashBannerLabel>\n        </CDashBanner>\n        <CDialogContent>\n                     {showSuccess()}\n                    {showError()}\n                    {newCategoryForm()}\n        </CDialogContent>\n        <CDialogFooter>\n        </CDialogFooter>\n    </CDialog>\n    </>\n    );\n}","import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport { DashLabel } from './dashlinkhelper';\nimport {seaBlue} from '../Styles/colors';\nimport {Title} from '../Styles/title';\nimport {createProduct, getCategories} from '../admin/adminApi';\nimport {isAuthenticated} from '../auth';\n\n\nconst CDialog = styled.div`\nwidth: 500px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst CDialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`\n\nconst CDialogContent = styled.div`\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\n\nexport const ConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nconst CDialogFooter = styled.div`\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\n\n\n\nconst CDashBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\n\nconst CDashBannerLabel= styled(DashLabel)`\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n`\n\nexport function ProdDialog({productWin , setProductWin}){\n    const {user, token} = isAuthenticated();\n    const [values, setValues] = useState({\n        name:'',\n        description:'',\n        price: '',\n        categories: [],\n        category: '',\n        shipping:'',\n        //quantity: '',\n        photo: '',\n        loading: false,\n        error: '',\n        createdProduct: '',\n        redirectedToProfile: false,\n        formData: ''\n    })\n\n    const {\n    name,\n    description,\n    price,\n    categories,\n    loading,\n    error,\n    createdProduct,\n    formData\n    } = values;\n\n    //load categories and set form data\n    const init = () => {\n        getCategories().then(data => {\n            if(data.error){\n                setValues({...values, error: data.error})\n            }else {\n                setValues({...values, \n                    categories: data, \n                    formData: new FormData()\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init();\n   }, []);\n\n    const handleChange = name => event => {\n        const value = name === 'photo' ? event.target.files[0]: event.target.value;\n        formData.set(name,value);\n        setValues({...values, [name]: value});\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({...values, error: \"\", loading: true});\n\n        createProduct(user._id, token, formData)\n        .then(data => {\n            if(data.error){\n                setValues({...values, error: data.error});\n            } else {\n                setValues({\n                    ...values,\n                    name: '', \n                    description:'',\n                    photo:'',\n                    price:'',\n                    //quantity:'',\n                    loading: false,\n                    createdProduct: data.name\n                });\n            }\n        });\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                <input onChange={handleChange('photo')}  type=\"file\" name=\"photo\" accept=\"image/*\"/>\n                </label>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <input onChange={handleChange('description')} type=\"text\" className=\"form-control\" value={description}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select \n                onChange={handleChange('category')} \n                className=\"form-control\" \n                >\n                    <option>--select--</option>\n                    {categories && categories.map((c, i) => (\n                    <option key={i} value={c._id}>{c.name}\n                    </option>\n                    ))}\n                </select>\n            </div>\n            <div className=\"form-group\">\n            {/* <label className=\"text-muted\">Quantity</label>\n                <input \n                onChange={handleChange('quantity')} \n                type=\"number\" \n                className=\"form-control\" \n                value={quantity}/> */}\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select \n                onChange={handleChange('shipping')} \n                className=\"form-control\" \n                >\n                    <option>--select--</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n\n                </select>\n            </div>\n            <button className=\"btn btn-outline-primary\">Create Product</button>\n        </form>\n    );\n\n    const showError = () =>(\n        <div className=\"alert alert-danger\" style={{display: error ? '': 'none'}}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () =>(\n        <div className=\"alert alert-info\" style={{display: createdProduct ? '': 'none'}}>\n            <h2>{`${createdProduct}`} is created`</h2>\n        </div>\n    );\n\n    const showLoading = () =>(\n        loading && (<div className=\"alert alert-success\">\n            <h2>Loading...</h2>\n        </div>)\n    );\n\n    function close() {\n        setProductWin();\n    }\n\n    if(!productWin) return null;\n    return (\n     <>\n    <CDialogShadow onClick={close}/>\n    <CDialog>\n        <CDashBanner>\n            <CDashBannerLabel>\n                {productWin}\n            </CDashBannerLabel>\n        </CDashBanner>\n        <CDialogContent>\n                     {showSuccess()}\n                    {showError()}\n                    {showLoading()}\n                    {newPostForm()}\n        </CDialogContent>\n        <CDialogFooter>\n        </CDialogFooter>\n    </CDialog>\n    </>\n    );\n}","import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport { DashLabel } from './dashlinkhelper';\nimport {Link} from 'react-router-dom';\nimport {seaBlue} from '../Styles/colors';\nimport {Title} from '../Styles/title';\nimport {getProducts, deleteProduct} from '../admin/adminApi';\nimport {isAuthenticated} from '../auth';\n\nconst CDialog = styled.div`\nwidth: 550px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst CDialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`\n\nconst CDialogContent = styled.div`\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\n\nexport const DeleteConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 100px;\ncursor: pointer;\nbackground-color: #ff0000;\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nexport const UpdateButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 100px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nconst CDialogFooter = styled.div`\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\n\n\n\nconst CDashBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\n\nconst CDashBannerLabel= styled(DashLabel)`\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n`\n\nexport function ProdUpdateDialog({productUpdate , setProductUpdate}){\n    const [products, setProducts] = useState ([]);\n    const {user, token} = isAuthenticated();\n\n    const loadProducts = () => {\n        getProducts().then(data => {\n            if(data.error){\n                console.log(data.error)\n            } else {\n                setProducts(data)\n            }\n        });\n    };\n        const destroy = productId => {\n            deleteProduct(productId, user._id, token).then(data => {\n                if(data.error) {\n                    console.log(data.error)\n                } else {\n                    loadProducts()\n                }\n            });\n        };\n\n    useEffect(()=> {\n        loadProducts();\n    }, [])\n\n    function close() {\n        setProductUpdate();\n    }\n\n    if(!productUpdate) return null;\n    return (\n     <>\n    <CDialogShadow onClick={close}/>\n    <CDialog>\n        <CDashBanner>\n            <CDashBannerLabel>\n                {productUpdate}\n            </CDashBannerLabel>\n        </CDashBanner>\n        <CDialogContent>\n        <div className=\"profile-orders\" className=\"content-margined\">\n            {\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                        <th>Product Name</th>\n                        <th>Update</th>\n                        <th>Delete</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                            {products.map((p, i) => <tr key={i}>\n                                <td>{p.name}</td>\n                                <td>\n                                    <UpdateButton>Update</UpdateButton>\n                                </td>\n                                <td>\n                                <span onClick={()=> destroy(p._id)} className=\"badge badge-danger badge-pill\">\n                                   <DeleteConfirmButton> Delete</DeleteConfirmButton>\n                                </span>\n                                </td>\n                            </tr>)}\n                        </tbody>\n                </table>            }\n        </div>\n        </CDialogContent>\n        <CDialogFooter>\n        </CDialogFooter>\n    </CDialog>\n    </>\n    );\n}","import React, {useState} from 'react';\nimport {Navbar} from '../Navar/Navbar';\nimport {Banner} from \"../Banner/Banner\";\nimport {GlobalStyle} from \"../Styles/GlobalStyle\";\nimport {FoodDialog, Dialog} from \"../FoodDialog/FoodDialog\";\nimport styled from \"styled-components\";\nimport {Title} from \"../Styles/title\";\nimport {isAuthenticated} from \"../auth\";\nimport {DashHelper} from \"./dashboardhelper\";\nimport {CatDialog} from \"./CategoryDialog\";\nimport {ProdDialog} from \"./ProductDialog\";\nimport {ProdUpdateDialog} from \"./ProductUpdate\";\nimport {Link} from 'react-router-dom';\n\nexport const DialogContent = styled.div`\noverflow: auto; \nheight: 100px;\npadding-top: 150px;\npadding-bottom: 80px;\n`;\n\n\nconst Dashboard =() => {\n    const [categoryWin, setCategoryWin] =useState();\n    const [productWin, setProductWin] =useState();\n    const [productUpdate, setProductUpdate]=useState();\n\n    return(\n        <>\n    <GlobalStyle/>\n    <CatDialog/>\n    <FoodDialog/>\n    <CatDialog categoryWin={categoryWin} setCategoryWin={setCategoryWin}/>\n    <ProdDialog productWin={productWin} setProductWin={setProductWin}/>\n    <ProdUpdateDialog productUpdate={productUpdate} setProductUpdate={setProductUpdate}/>\n    <Navbar/>\n    <Banner>\n      <DialogContent>\n    <Link\n           style={{cursor: \"pointer\", color: \"#ffffff\"}}\n           className=\"nav-link\" \n           to=\"/\"\n           >\n           Online Ordering\n           </Link>\n           </DialogContent>\n           </Banner>\n    <DashHelper setCategoryWin={setCategoryWin} setProductWin={setProductWin} setProductUpdate={setProductUpdate} />\n   </>\n    );\n}\nexport default Dashboard;","import React, {useState} from 'react';\nimport {Navbar} from '../Navar/Navbar';\nimport {Banner} from \"../Banner/Banner\";\nimport {GlobalStyle} from \"../Styles/GlobalStyle\";\nimport {FoodDialog, Dialog} from \"../FoodDialog/FoodDialog\";\nimport styled from \"styled-components\";\nimport {Title} from \"../Styles/title\";\nimport {isAuthenticated} from \"../auth\";\nimport {DashHelper} from \"./dashboardhelper\";\nimport {CatDialog} from \"./CategoryDialog\";\nimport {ProdDialog} from \"./ProductDialog\";\nimport {ProdUpdateDialog} from \"./ProductUpdate\";\nimport {Redirect, Link} from 'react-router-dom';\n\nexport const DialogContent = styled.div`\noverflow: auto; \nheight: 100px;\npadding-top: 150px;\npadding-bottom: 80px;\n`;\n\n\nconst AdminDashboard =() => {\n    const [categoryWin, setCategoryWin] =useState();\n    const [productWin, setProductWin] =useState();\n    const [productUpdate, setProductUpdate]=useState();\n\n    return(\n        <>\n    <GlobalStyle/>\n    <CatDialog/>\n    <FoodDialog/>\n    <CatDialog categoryWin={categoryWin} setCategoryWin={setCategoryWin}/>\n    <ProdDialog productWin={productWin} setProductWin={setProductWin}/>\n    <ProdUpdateDialog productUpdate={productUpdate} setProductUpdate={setProductUpdate}/>\n    <Navbar/>\n    <Banner>\n      <DialogContent>\n    <Link\n           style={{cursor: \"pointer\", color: \"#ffffff\"}}\n           className=\"nav-link\" \n           to=\"/\"\n           >\n           Online Ordering\n           </Link>\n           </DialogContent>\n           </Banner>\n    <DashHelper setCategoryWin={setCategoryWin} setProductWin={setProductWin} setProductUpdate={setProductUpdate} />\n   </>\n    );\n}\nexport default AdminDashboard;","import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport {formatPrice} from \"../Data/FoodData\";\nimport {API} from \"../config\";\nimport {isAuthenticated} from '../auth';\nimport {useOpenFood} from \"../Hooks/useOpenFood\";\nimport {useOrders} from \"../Hooks/useOrders\";\nimport {useTitle} from \"../Hooks/useTitle\";\nimport {DialogContent} from \"../FoodDialog/FoodDialog\";\nimport {FoodLabel} from \"../Menu/FoodGrid\";\nimport {getCart, emptyCart} from \"../Cart/carthelper\";\nimport {getBraintreeClientToken, processPayment, createOrder} from \"../admin/adminApi\";\nimport DropIn from 'braintree-web-drop-in-react';\nimport {getPrice} from \"../FoodDialog/FoodDialog\";\n\nexport const FoodGrid = styled.div`\ndisplay: grid;\nwidth: 1000px;\ngrid-template-columns: 1fr 1fr 1fr;\ngap: 20px;\npadding-bottom: 40px;\n`;\n\n\nconst CartStyled = styled.div`\ntop: 300px;\nwidth: 600px;\nbackground-color: white;\nheight: 600px;\nz-index: 10;\nbox-shadow: 4px 0px 5px 4px grey;\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst CartContent = styled(DialogContent)`\npadding: 20px;\nheight: 100%\n`;\n\nconst CartContainer = styled.div`\n    padding: 10px 0px;\n    border-bottom: 1px solid grey;\n    ${({editable}) =>\neditable ? `\n&:hover {\n    cursor: pointer;\n    background-color: #e7e7e7;\n}\n`\n    : `\n    pointer-events: none;\n    `}\n`;\n\nconst CartItem = styled.div`\n    padding: 10px 0px;\n    display: grid;\n    grid-template-columns: 20px 150px 20px 60px;\n    justify-content: space-between;\n`;\nexport const CartBanner = styled.div`\nmin-height: 50px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\nexport const CartBannerName = styled(FoodLabel)`\n    font-size: 25px;\n    padding: 5px 20px;\n    \n`;\n\nconst DetailItem = styled.div`\n    color: gray;\n    font-size: 10px;\n`\n\nconst PaymentStyled = styled.div`\n    height: 600px;\n    width: 600px;\n    z-index: 10;\nbox-shadow: 4px 0px 5px 4px grey;\ndisplay: flex;\nflex-direction: column;\n`\nconst ShippingBox = styled.div`\n    height: 400px;\n    width: 500px;\n    z-index: 10;\nbox-shadow: 4px 0px 5px 4px grey;\ndisplay: flex;\nflex-direction: column;\n`\n\n\nexport function CheckoutStyled(){ \n    const openFood = useOpenFood();\n    const orders = useOrders();\n    useTitle({...openFood, ...orders});\n    const [items, setItems] = useState([]);\n    const [run, setRun] = useState(false);\n    const subtotal = items.reduce((total, items) => {\n        return total + getPrice(items);\n    }, 0);\n    const displaySubtotal = subtotal.toFixed(2);\n    const tax = subtotal * 0.07;\n    const displayTax = tax.toFixed(2);\n    const processingFeeN = (tax + subtotal) * 0.05;\n    const displayProcessingFee = processingFeeN.toFixed(2);\n    const total = subtotal + tax + processingFeeN;\n    const displayTotal = total.toFixed(2);\n    const [values, setValues] = useState(\n        {\n    success: false,\n    clientToken: null,\n    error: '',\n    instance: {},\n    user: \"\",\n    orderItems: \"\",\n    ShipName: \"\",\n    ShipEmail: \"\",\n    ShipAddress: \"\",\n    ShipCity: \"\",\n    ShipState: \"\",\n    ShipZip: \"\",\n    method: \"\",\n    subTotal: \"\",\n    taxPrice: \"\",\n    processingFee:\"\",\n    totalPrice: \"\",\n        }\n    );\n\n    const {success, orderItems, ShipName, ShipEmail, ShipAddress, ShipCity, ShipState, ShipZip, method, subTotal, processingFee, taxPrice, totalPrice} = values;\n\n    useEffect(()=> {\n        setItems(getCart());\n    }, [run]);\n    \n    const showItems = items => {\n        return(\n            <div onBlur={()=> setValues({...values, error:\"\"})}>\n                <hr/>\n                {items.map((product, i)=> (\n                <DetailItem \n                key ={i} \n                items={product}\n                setRun={setRun}\n                run={run}\n                >{product.name} {\" Qty: \"} {product.quantity} {\" \"} {product.toppings\n                    .filter(t => t.checked)\n                    .map(topping => topping.name)\n                    .join(\", \")\n                    }{\" $\"}{getPrice(product).toFixed(2)}</DetailItem>\n                ))\n                }\n            </div>\n        );\n    };\n\n    const userId = isAuthenticated() && isAuthenticated().user._id;\n    const token = isAuthenticated() && isAuthenticated().token;\n\n    const getToken = (userId, token) => {\n        getBraintreeClientToken(userId, token).then(values => {\n            if(values.error) {\n                setValues({...values, error: values.error})\n            }else{\n                setValues({clientToken: values.clientToken})\n            }\n        })\n    };\n\n    useEffect(()=>{\n        getToken(userId, token)\n    }, []);\n\n    let deliveryMethod = values.method;\n\n\n    const buy = () => {\n        // send nonce to your server\n        //nonce= values.instance.requestPaymentMethod()\n        let nonce;\n        let getNonce = values.instance\n        .requestPaymentMethod()\n        .then( values => {\n           // console.log(values)\n            nonce = values.nonce;\n            //once you have nonce (card type, card number) send nonce as \"paymentMethodNonce\"\n            //and also total to be charged\n            //console.log('send nonce and total to process: ', nonce, total)\n        const paymentData ={\n            paymentMethodNonce: nonce,\n            amount: displayTotal\n        }\n\n        processPayment(userId, token, paymentData)\n        .then(response=> {\n            console.log(values);\n                //empty cart & create order\n\n               const createOrderData = {\n                    orderItems: items,\n                    ShipName: ShipName,\n                    ShipEmail: ShipEmail,\n                    ShipAddress: ShipAddress,\n                    ShipCity: ShipCity,\n                    ShipState: ShipState,\n                    ShipZip: ShipZip,\n                    method: deliveryMethod,\n                    subTotal: displaySubtotal,\n                    taxPrice: displayTax,\n                    processingFee: displayProcessingFee,\n                    totalPrice: displayTotal\n                };\n\n                createOrder(userId, token, createOrderData)\n                .then(response => {\n                    emptyCart(() => {\n                        console.log('payment success and empty cart');\n                        setValues({\n                            success: true\n                        });\n                        localStorage.clear();\n                    });\n                })\n                .catch(error => console.log(error));\n        });\n    })\n    .catch(error => {\n            console.log('drop in error: ', error)\n            setValues({...values, error: error.message});\n            //empty cart\n            //create order\n        });\n    };\n\n    const showError = error => (\n        <div style={{ display: values.error ? '' : 'none' }}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = success => (\n        <div style={{ display: success ? '' : 'none' }}>\n            <h2>Thanks! Your payment was successful!</h2>\n        </div>\n    );\n\n    const showDropIn= () => (\n        <div onBlur={() => setValues({ ...values, error: '' })}>\n            \n            {values.clientToken !== null && items.length>0 ? (\n                <div>\n                    <DropIn\n                        options={{\n                            authorization: values.clientToken,\n                            paypal: {\n                                flow: 'vault'\n                            }\n                        }}\n                        onInstance={instance => (values.instance = instance)}\n                    />\n                    <button onClick={buy} className=\"btn-block\">\n                        Pay\n                    </button>\n                </div>\n            ) : null}\n        </div>\n    );\n\n    const handleChange = name => event => {\n        const value = name === 'name' ? event.target.files[0]: event.target.value;\n        setValues({...values, [name]: value});\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({...values});\n        console.log((values));\n     };\n\n     const handleMethod = event => {\n        setValues({...values, method: event.target.value });\n    };\n\n\n    const shippingMethod = () => (\n        <div>\n                        <label>Method Type:</label>\n                        <select \n            className=\"form-control\" onChange={handleMethod}\n           >\n                <option>Select Method</option>\n                <option>Pick Up</option>\n                <option>Delivery</option>\n            </select>\n       </div>\n    )\n\n    const shippingForm = () => (\n        <form className=\"mb-3\">\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name: </label>\n                <input onChange={handleChange('ShipName')} type=\"text\" className=\"form-control\" value={ShipName || \"\"}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Email: </label>\n                <input onChange={handleChange('ShipEmail')} type=\"text\" className=\"form-control\" value={ShipEmail|| \"\"}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Address: </label>\n                <input onChange={handleChange('ShipAddress')} type=\"text\" className=\"form-control\" value={ShipAddress||\"\"}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">City: </label>\n                <input onChange={handleChange('ShipCity')} type=\"text\" className=\"form-control\" value={ShipCity||\"\"}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">State: </label>\n                <input onChange={handleChange('ShipState')} type=\"text\" className=\"form-control\" value={ShipState||\"\"}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Zip: </label>\n                <input onChange={handleChange('ShipZip')} type=\"text\" className=\"form-control\" value={ShipZip||\"\"}/>\n            </div>\n            {/* <button className=\"btn btn-outline-primary\">Shipping</button> */}\n        </form>\n    );\n\n    return (\n        <>\n        <FoodGrid> \n        <CartStyled>\n    <CartContainer>\n    <CartBanner img={`${API}/product/photo/shark.jpeg`}>\n        <CartBannerName>Summary, your cart has {`${items.length}`} items.</CartBannerName>\n    </CartBanner>\n        <CartContent>\n            {showSuccess(success)}\n            {showItems(items)}\n            <DetailItem>Sub-Total: {formatPrice(subtotal)} </DetailItem>\n            <DetailItem>Tax: {formatPrice(tax)} </DetailItem>           \n            <DetailItem>Processing Fee: {formatPrice(processingFeeN)} </DetailItem>\n            <DetailItem>Total: {formatPrice(total)} </DetailItem>\n        </CartContent>\n    </CartContainer>\n    </CartStyled>\n\n    <PaymentStyled>\n    <CartBanner>\n    <CartBannerName>Delivery Address</CartBannerName>\n    </CartBanner>\n        {shippingMethod()}\n        {shippingForm()}\n    <CartBanner>\n            <CartBannerName>Payment Method</CartBannerName></CartBanner>\n            {showSuccess(values.success)}\n            {showError(values.error)}\n            {showDropIn()}\n    </PaymentStyled>\n    </FoodGrid>\n    </>\n    );\n}","import React from 'react';\nimport {Navbar} from '../Navar/Navbar';\nimport {Banner} from \"../Banner/Banner\";\nimport {GlobalStyle} from \"../Styles/GlobalStyle\";\nimport {FoodDialog} from \"../FoodDialog/FoodDialog\";\nimport {useOpenFood} from \"../Hooks/useOpenFood\";\nimport {useOrders} from \"../Hooks/useOrders\";\nimport {useTitle} from \"../Hooks/useTitle\";\nimport {CheckoutStyled} from \"./CheckoutStyled\";\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nexport const DialogContent = styled.div`\noverflow: auto; \nheight: 100px;\npadding-top: 150px;\npadding-bottom: 80px;\n`;\n\n\nfunction Checkout() {\n  const openFood = useOpenFood();\n  const orders = useOrders();\n  useTitle({...openFood, ...orders});\n\n  return (\n    <>\n    <GlobalStyle/>\n    <FoodDialog {...openFood}{...orders}/>\n    <Navbar/>\n    <Banner>\n      <DialogContent>\n    <Link\n           style={{cursor: \"pointer\", color: \"#ffffff\"}}\n           className=\"nav-link\" \n           to=\"/\"\n           >\n           Online Ordering\n           </Link>\n           </DialogContent>\n           </Banner>\n    <CheckoutStyled/>\n   </>\n  );\n}\n\nexport default Checkout;\n","import React, {useState,useEffect} from 'react';\nimport {Navbar} from '../Navar/Navbar';\nimport {Banner} from \"../Banner/Banner\";\nimport {GlobalStyle} from \"../Styles/GlobalStyle\";\nimport styled from 'styled-components';\nimport {isAuthenticated} from '../auth';\nimport {listOrders, getStatusValues, updateOrderStatus} from \"../admin/adminApi\";\nimport moment from 'moment';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\n\nconst StyledTableCell = withStyles((theme) => ({\n    head: {\n      backgroundColor: theme.palette.common.black,\n      color: theme.palette.common.white,\n    },\n    body: {\n      fontSize: 14,\n    },\n  }))(TableCell);\n  \n  const StyledTableRow = withStyles((theme) => ({\n    root: {\n      '&:nth-of-type(odd)': {\n        backgroundColor: theme.palette.action.hover,\n      },\n    },\n  }))(TableRow);\n\n  const useStyles = makeStyles({\n    table: {\n      minWidth: 700,\n    },\n  });\n\nconst OrderContainer = styled.div`\n    padding: 10px 0px;\n    border-bottom: 1px solid grey;\n`\n\nfunction AdminOrders() {\n        const [orders, setOrders] = useState([]);\n        const [statusValues, setStatusValues] = useState([]);\n        const {user, token} = isAuthenticated();\n    \n        const ordersToProcess = orders.filter(\n            (order) => (order.status !== 'Completed' && order.status!== 'Cancelled'))\n            \n        const loadOrders = () => {\n            listOrders(user._id, token).then(data => {\n                if(data.error){\n                    console.log(data.error);\n                } else {\n                    setOrders(data);\n                }\n            });\n        };\n    \n        const loadStatusValues = () => {\n            getStatusValues(user._id, token).then(data => {\n                if(data.error){\n                    console.log(data.error);\n                } else {\n                    setStatusValues(data);\n                }\n            });\n        };\n    \n        useEffect(()=>{\n            loadOrders();\n            loadStatusValues();\n        }, []);\n    \n        const showOrdersLength = () => {\n            if(orders.length>0){\n                return(\n                    <h1 className=\"text-danger\">\n                        Total Orders: {ordersToProcess.length}\n                        </h1>\n                );\n            } else {\n                return <h1 className=\"text-danger\">No orders</h1>;\n            }\n        };\n    \n        const handleStatusChange = (e, orderId) => {\n            updateOrderStatus(user._id, token, orderId, e.target.value).then(data => {\n                if(data.error){\n                    console.log('Status update failed')\n                }else{\n                    loadOrders();\n                }\n            });\n        };\n            \n        const showStatus = (o) => (\n            <div className=\"form-group\">\n                <h3 className=\"mark mb-4\">Status: {o.status}</h3>\n                <select \n                className=\"form-control\" \n                onChange={e => handleStatusChange(e, o._id)}>\n                    <option>Update Status</option>\n                    {statusValues.map((status, index) => (\n                        <option key={index} value={status}>\n                        {status}\n                        </option>\n                        ))};\n                </select>\n            </div>\n        );\n\n        function CustomizedTables() {\n            const classes = useStyles();\n            \n          return (\n            <TableContainer component={Paper}>\n              <Table className={classes.table} aria-label=\"customized table\">\n                <TableHead>\n                  <TableRow>\n                    <StyledTableCell>Order #</StyledTableCell>\n                    <StyledTableCell align=\"right\">Date</StyledTableCell>\n                    <StyledTableCell align=\"right\">Name</StyledTableCell>\n                    <StyledTableCell align=\"right\">Delivery Address</StyledTableCell>\n                    <StyledTableCell align=\"right\">Total</StyledTableCell>\n                    <StyledTableCell align=\"right\">Delivery Method</StyledTableCell>\n                    <StyledTableCell align=\"right\">Status</StyledTableCell>\n                    <StyledTableCell align=\"right\">Items</StyledTableCell>\n                    <StyledTableCell align=\"right\">Quantity</StyledTableCell>\n                  </TableRow>\n                </TableHead>\n                <TableBody>\n                  {ordersToProcess.map((o, oIndex)  => (\n                    <StyledTableRow key={oIndex}>\n                      <StyledTableCell component=\"th\" scope=\"row\">\n                        {o._id}\n                      </StyledTableCell>\n                      <StyledTableCell align=\"right\">{moment(o.createdAt).fromNow()}</StyledTableCell>\n                      <StyledTableCell align=\"right\">{o.ShipName}</StyledTableCell>\n                  <StyledTableCell align=\"right\">\n                    <div>{o.ShipAddress}</div>\n                    <div>{o.ShipCity}{\", \"}{o.ShipState}{\" \"}{o.ShipZip}</div>\n                    </StyledTableCell>\n                      <StyledTableCell align=\"right\">{'$'}{o.totalPrice.toFixed(2)}</StyledTableCell>\n                      <StyledTableCell align=\"right\">{o.method}</StyledTableCell>\n                      <StyledTableCell align=\"right\">{showStatus(o)}</StyledTableCell>\n                      <StyledTableCell align=\"right\">{o.orderItems.map ((p, pIndex) => (\n                                        <div \n                                        className=\"mb-4\" \n                                        key={pIndex} \n                                        style={{\n                                            padding: '5px', \n                                            border: '1px solid indigo'}}>\n                                            {('Product name', p.name)}\n                                            <div>\n                                            {p.toppings\n                    .filter(t => t.checked)\n                    .map(topping => topping.name)\n                    .join(\", \")\n                    }</div>\n                                        </div>\n                                    ))}</StyledTableCell>\n                                    <StyledTableCell align=\"right\">{o.orderItems.map ((p, pIndex) => (\n                                        <div \n                                        className=\"mb-4\" \n                                        key={pIndex} \n                                        style={{\n                                            padding: '5px', \n                                            border: '1px solid indigo'}}>\n                                            {('Product Quantity', p.quantity)}\n                                        </div>\n                                    ))}</StyledTableCell>\n                    </StyledTableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </TableContainer>\n          );\n        }\n\n    return (\n    <>\n    <GlobalStyle/>\n    <Navbar/>\n    <Banner/>\n    {showOrdersLength()}\n    {CustomizedTables()}\n        );\n   </>\n  );\n}\n\nexport default AdminOrders;\n","import React from 'react';\nimport {BrowserRouter, Switch, Route} from 'react-router-dom';\nimport Signup from './user/Signup';\nimport Signin from './user/Signin';\nimport App from './App';\nimport PrivateRoute from './auth/PrivateRoute';\nimport AdminRoute from './auth/AdminRoute';\nimport Dashboard from './user/UserDashboard';\nimport AdminDashboard from './user/AdminDashboard';\nimport Checkout from './user/Checkout';\nimport AdminOrders from './user/AdminOrders';\n\nconst Routes = () =>{\n    return (\n        <BrowserRouter>\n        <Switch>\n            <Route path=\"/signin\" exact component={Signin}/>\n            <Route path=\"/signup\" exact component={Signup}/>\n            <Route path=\"/\" exact component={App}/>\n            <PrivateRoute path=\"/dashboard\" exact component={Dashboard}/>\n            <PrivateRoute path=\"/checkout\" exact component={Checkout}/>\n            <AdminRoute path=\"/admindash\" exact component={AdminDashboard}/>\n            <AdminRoute path=\"/adminorders\" exact component={AdminOrders}/>\n        </Switch>\n        </BrowserRouter>\n    );\n};\n\nexport default Routes;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Routes from './Routes';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Routes />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}