{"ast":null,"code":"import _defineProperty from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\nposition: absolute;\\nbackground-color: rgba(255, 255, 255, .75);\\npadding: 5px;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\ndisplay: grid;\\ngrid-template-columns: 1fr;\\ngap: 20px;\\npadding-bottom: 40px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import{Link}from'react-router-dom';import{Navbar}from'../Navar/Navbar';import{Banner}from\"../Banner/Banner\";import{GlobalStyle}from\"../Styles/GlobalStyle\";import{FoodDialog}from\"../FoodDialog/FoodDialog\";import styled from\"styled-components\";import{Title}from\"../Styles/title\";import{signup,authenticate,isAuthenticated}from'../auth';export var SigninGrid=styled.div(_templateObject());export var SigninLabel=styled(Title)(_templateObject2());function Signup(){var _useState=useState({name:\"\",email:\"\",password:\"\",error:\"\",success:false}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var name=values.name,email=values.email,password=values.password,success=values.success,error=values.error;//   const {user} = isAuthenticated();\nvar handleChange=function handleChange(name){return function(event){setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({error:false},name,event.target.value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{error:false,loading:true}));signup({name:name,email:email,password:password}).then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error,success:false}));}else{//          authenticate(data, () => {\nsetValues(_objectSpread(_objectSpread({},values),{},{name:'',email:'',password:'',error:'',success:true//                  redirectToReferrer: true\n}));//          });\n}});};var signUpForm=function signUpForm(){return/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('name'),type:\"name\",className:\"form-control\",value:name})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Email\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('email'),type:\"email\",className:\"form-control\",value:email})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Password\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('password'),type:\"password\",className:\"form-control\",value:password})),/*#__PURE__*/React.createElement(\"button\",{onClick:clickSubmit,className:\"btn btn-primary\"},\"Submit\"));};var showError=function showError(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?'':'none'}},error);};var showSuccess=function showSuccess(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:success?'':'none'}},\"New Account Created. Please \",/*#__PURE__*/React.createElement(Link,{to:\"/signin\"},\"Signin...\"));};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(GlobalStyle,null),/*#__PURE__*/React.createElement(FoodDialog,null),/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(Banner,null),/*#__PURE__*/React.createElement(SigninGrid,null,/*#__PURE__*/React.createElement(SigninLabel,null,\"Please Register!\",showSuccess(),showError(),signUpForm())));}export default Signup;","map":{"version":3,"sources":["/Users/KerrFamily/Desktop/FoodApp/src/user/Signup.js"],"names":["React","useState","Link","Navbar","Banner","GlobalStyle","FoodDialog","styled","Title","signup","authenticate","isAuthenticated","SigninGrid","div","SigninLabel","Signup","name","email","password","error","success","values","setValues","handleChange","event","target","value","clickSubmit","preventDefault","loading","then","data","signUpForm","showError","display","showSuccess"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport {Navbar} from '../Navar/Navbar';\nimport {Banner} from \"../Banner/Banner\";\nimport {GlobalStyle} from \"../Styles/GlobalStyle\";\nimport {FoodDialog} from \"../FoodDialog/FoodDialog\";\nimport styled from \"styled-components\";\nimport {Title} from \"../Styles/title\";\nimport {signup, authenticate, isAuthenticated} from '../auth';\n\nexport const SigninGrid = styled.div`\ndisplay: grid;\ngrid-template-columns: 1fr;\ngap: 20px;\npadding-bottom: 40px;\n`;\nexport const SigninLabel = styled(Title)`\nposition: absolute;\nbackground-color: rgba(255, 255, 255, .75);\npadding: 5px;\n`;\n\nfunction Signup() {\n    const [values, setValues] = useState({\n        name: \"\",\n        email: \"\",\n        password: \"\",\n        error: \"\",\n        success: false,\n    });\n\n    const {name, email, password, success, error} = values;\n //   const {user} = isAuthenticated();\n \n\n    const handleChange = name => event => {\n        setValues({...values, error: false, [name]:event.target.value});\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n         setValues({...values, error: false, loading: true});\n         signup({name, email, password})\n          .then(data => {\n              if(data.error) {\n              setValues({...values, error: data.error, success: false});\n              } else {\n        //          authenticate(data, () => {\n                      setValues({\n                          ...values,\n                          name: '',\n                          email: '',\n                          password: '',\n                          error: '',\n                          success: true\n        //                  redirectToReferrer: true\n                      });\n        //          });\n             }\n          });\n     };\n\n    const signUpForm = () =>(\n        <form>\n         <div className=\"form-group\">\n             <label className=\"text-muted\">Name</label>\n              <input onChange={handleChange('name')} type=\"name\" \n              className=\"form-control\" value={name}/>\n        </div>\n        <div className=\"form-group\">\n             <label className=\"text-muted\">Email</label>\n              <input onChange={handleChange('email')} type=\"email\" \n              className=\"form-control\" value={email}/>\n        </div>\n         <div className=\"form-group\">\n             <label className=\"text-muted\">Password</label>\n              <input onChange={handleChange('password')} type=\"password\" \n              className=\"form-control\" value={password}/>\n        </div>\n        <button onClick={clickSubmit} className=\"btn btn-primary\">Submit</button>\n        </form>\n    );\n\n     const showError = () => \n         (\n         <div className=\"alert alert-danger\" style={{display: error ? '' : 'none'}}>\n             {error}\n         </div>);\n     const showSuccess = () => (\n        <div className=\"alert alert-danger\" style={{display: success ? '' : 'none'}}>\n            New Account Created. Please <Link to=\"/signin\">Signin...</Link>\n        </div>\n    );\n\n    \n  return (\n    <>\n    <GlobalStyle/>\n    <FoodDialog/>\n    <Navbar/>\n    <Banner/>\n    <SigninGrid>\n        <SigninLabel>\n        Please Register!\n\n        {showSuccess()}\n        {showError()}\n    {signUpForm()}\n    </SigninLabel>\n    </SigninGrid>\n\n   </>\n  );\n}\n\nexport default Signup;\n"]},"metadata":{},"sourceType":"module"}