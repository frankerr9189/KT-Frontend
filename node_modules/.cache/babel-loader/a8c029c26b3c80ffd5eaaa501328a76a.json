{"ast":null,"code":"import _slicedToArray from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n    top: 90px;\\n    font-size: 30px;\\n    padding: 5px 40px;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\nmin-height: 200px;\\nmargin-bottom: 20px;\\nbackground-image: url(\\\"img/shark.jpeg\\\");\\nbackground-position: center;\\nbackground-size: cover;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\nbox-shadow: 0px -2px 20px 0px grey;\\nheight: 60px;\\ndisplay: flex;\\njustify-content: center;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\nmargin: 10px;\\ncolor: white;\\nheight: 20px;\\nborder-radius: 5px;\\npadding: 10px;\\ntext-align: center;\\nwidth: 200px;\\ncursor: pointer;\\nbackground-color: \",\";\\n\",\"\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\noverflow: auto; \\nmin-height: 200px;\\npadding: 0px 40px;\\npadding-bottom: 80px;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    position: fixed;\\n    height: 100%;\\n    width: 100%;\\n    top: 0px;\\n    background-color: black;\\n    opacity: 0.7;\\n    z-index: 4;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\nwidth: 500px;\\nbackground-color: white;\\nposition: fixed;\\ntop: 80px;\\nz-index: 5;\\nmax-height: calc(100% - 100px);\\nleft: calc(50% - 250px);\\ndisplay: flex;\\nflex-direction: column;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState}from'react';import styled from'styled-components';import{DashLabel}from'./dashlinkhelper';import{seaBlue}from'../Styles/colors';import{Title}from'../Styles/title';import{createCategory}from'../admin/adminApi';import{isAuthenticated}from'../auth';var CDialog=styled.div(_templateObject());var CDialogShadow=styled.div(_templateObject2());var CDialogContent=styled.div(_templateObject3());export var ConfirmButton=styled(Title)(_templateObject4(),seaBlue,function(_ref){var disabled=_ref.disabled;return disabled&&\"\\nopacity: .5;\\nbackground-color: grey;\\npointer-events: none;\\n\";});var CDialogFooter=styled.div(_templateObject5());var CDashBanner=styled.div(_templateObject6());var CDashBannerLabel=styled(DashLabel)(_templateObject7());export function CatDialog(_ref2){var categoryWin=_ref2.categoryWin,setCategoryWin=_ref2.setCategoryWin;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setName=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),success=_useState6[0],setSuccess=_useState6[1];// destructure user and token from localstorage\nvar _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var handleChange=function handleChange(e){setError('');setName(e.target.value);};var clickSubmit=function clickSubmit(e){e.preventDefault();setError(\"\");setSuccess(false);//make request to api to create category\ncreateCategory(user._id,token,{name:name}).then(function(data){if(data.error){setError(data.error);}else{setError(\"\");setSuccess(true);}});};var newCategoryForm=function newCategoryForm(){return/*#__PURE__*/React.createElement(\"form\",{onSubmit:clickSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Category name to add: \"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",onChange:handleChange,value:name,autoFocus:true,required:true})),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary\"},\"Create Category\"));};var showSuccess=function showSuccess(){if(success){return/*#__PURE__*/React.createElement(\"h3\",{className:\"text-success\"},name,\" has been created!\");}};var showError=function showError(){if(error){return/*#__PURE__*/React.createElement(\"h3\",{className:\"text-danger\"},\"Category needs to be unique.\");}};function close(){setCategoryWin();}if(!categoryWin)return null;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CDialogShadow,{onClick:close}),/*#__PURE__*/React.createElement(CDialog,null,/*#__PURE__*/React.createElement(CDashBanner,null,/*#__PURE__*/React.createElement(CDashBannerLabel,null,categoryWin)),/*#__PURE__*/React.createElement(CDialogContent,null,showSuccess(),showError(),newCategoryForm()),/*#__PURE__*/React.createElement(CDialogFooter,null)));}","map":{"version":3,"sources":["/Users/KerrFamily/Desktop/FoodApp/src/user/CategoryDialog.js"],"names":["React","useState","styled","DashLabel","seaBlue","Title","createCategory","isAuthenticated","CDialog","div","CDialogShadow","CDialogContent","ConfirmButton","disabled","CDialogFooter","CDashBanner","CDashBannerLabel","CatDialog","categoryWin","setCategoryWin","name","setName","error","setError","success","setSuccess","user","token","handleChange","e","target","value","clickSubmit","preventDefault","_id","then","data","newCategoryForm","showSuccess","showError","close"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport styled from 'styled-components';\nimport { DashLabel } from './dashlinkhelper';\nimport {seaBlue} from '../Styles/colors';\nimport {Title} from '../Styles/title';\nimport {createCategory} from '../admin/adminApi';\nimport {isAuthenticated} from '../auth';\n\nconst CDialog = styled.div`\nwidth: 500px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst CDialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`\n\nconst CDialogContent = styled.div`\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\n\nexport const ConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nconst CDialogFooter = styled.div`\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\n\n\n\nconst CDashBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\n\nconst CDashBannerLabel= styled(DashLabel)`\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n`\n\nexport function CatDialog({categoryWin , setCategoryWin}){\n    const [name, setName] = useState('');\n    const [error, setError] = useState(false);\n    const [success, setSuccess] = useState(false);\n\n    // destructure user and token from localstorage\n    const {user, token} = isAuthenticated();\n\n    const handleChange = e => {\n        setError('')\n        setName(e.target.value)\n    };\n\n    const clickSubmit = e => {\n        e.preventDefault();\n        setError(\"\");\n        setSuccess(false);\n        //make request to api to create category\n        createCategory(user._id, token, {name})\n        .then(data => {\n            if(data.error){\n                setError(data.error);\n            }else {\n                setError(\"\");\n                setSuccess(true);\n            }\n        });\n    };\n\n    const newCategoryForm = () => (\n        <form onSubmit={clickSubmit}>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category name to add: </label>\n                <input \n                type=\"text\" \n                className=\"form-control\" \n                onChange={handleChange} \n                value={name}\n                autoFocus\n                required/>\n                </div>\n                <button className=\"btn btn-outline-primary\">Create Category</button>\n        </form>\n    );\n\n    const showSuccess = () => {\n        if(success){\n            return <h3 className=\"text-success\">{name} has been created!</h3>\n        }\n    };\n\n    const showError = () => {\n        if(error){\n            return <h3 className=\"text-danger\">Category needs to be unique.</h3>\n        }\n    };\n\n    function close() {\n        setCategoryWin();\n    }\n\n\n    if(!categoryWin) return null;\n    return (\n     <>\n    <CDialogShadow onClick={close}/>\n    <CDialog>\n        <CDashBanner>\n            <CDashBannerLabel>\n                {categoryWin}\n            </CDashBannerLabel>\n        </CDashBanner>\n        <CDialogContent>\n                     {showSuccess()}\n                    {showError()}\n                    {newCategoryForm()}\n        </CDialogContent>\n        <CDialogFooter>\n        </CDialogFooter>\n    </CDialog>\n    </>\n    );\n}"]},"metadata":{},"sourceType":"module"}