{"ast":null,"code":"import _defineProperty from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject8(){var data=_taggedTemplateLiteral([\"\\n    top: 90px;\\n    font-size: 30px;\\n    padding: 5px 40px;\\n\"]);_templateObject8=function _templateObject8(){return data;};return data;}function _templateObject7(){var data=_taggedTemplateLiteral([\"\\nmin-height: 200px;\\nmargin-bottom: 20px;\\nbackground-image: url(\\\"img/shark.jpeg\\\");\\nbackground-position: center;\\nbackground-size: cover;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\nbox-shadow: 0px -2px 20px 0px grey;\\nheight: 60px;\\ndisplay: flex;\\njustify-content: center;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\nmargin: 10px;\\ncolor: white;\\nheight: 20px;\\nborder-radius: 5px;\\npadding: 10px;\\ntext-align: center;\\nwidth: 100px;\\ncursor: pointer;\\nbackground-color: \",\";\\n\",\"\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\nmargin: 10px;\\ncolor: white;\\nheight: 20px;\\nborder-radius: 5px;\\npadding: 10px;\\ntext-align: center;\\nwidth: 100px;\\ncursor: pointer;\\nbackground-color: #ff0000;\\n\",\"\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\noverflow: auto; \\nmin-height: 200px;\\npadding: 0px 40px;\\npadding-bottom: 80px;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    position: fixed;\\n    height: 100%;\\n    width: 100%;\\n    top: 0px;\\n    background-color: black;\\n    opacity: 0.7;\\n    z-index: 4;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\nwidth: 550px;\\nbackground-color: white;\\nposition: fixed;\\ntop: 80px;\\nz-index: 5;\\nmax-height: calc(100% - 100px);\\nleft: calc(50% - 250px);\\ndisplay: flex;\\nflex-direction: column;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import styled from'styled-components';import{DashLabel}from'./dashlinkhelper';import{Link}from'react-router-dom';import{seaBlue}from'../Styles/colors';import{Title}from'../Styles/title';import{getProducts,deleteProduct}from'../admin/adminApi';import{isAuthenticated}from'../auth';var CDialog=styled.div(_templateObject());var CDialogShadow=styled.div(_templateObject2());var CDialogContent=styled.div(_templateObject3());export var DeleteConfirmButton=styled(Title)(_templateObject4(),function(_ref){var disabled=_ref.disabled;return disabled&&\"\\nopacity: .5;\\nbackground-color: grey;\\npointer-events: none;\\n\";});export var UpdateButton=styled(Title)(_templateObject5(),seaBlue,function(_ref2){var disabled=_ref2.disabled;return disabled&&\"\\nopacity: .5;\\nbackground-color: grey;\\npointer-events: none;\\n\";});var CDialogFooter=styled.div(_templateObject6());var CDashBanner=styled.div(_templateObject7());var CDashBannerLabel=styled(DashLabel)(_templateObject8());export function ProdUpdateDialog(_ref3){var productUpdate=_ref3.productUpdate,setProductUpdate=_ref3.setProductUpdate;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var loadProducts=function loadProducts(){getProducts().then(function(data){if(data.error){console.log(data.error);}else{setProducts(data);}});};var destroy=function destroy(productId){deleteProduct(productId,user._id,token).then(function(data){if(data.error){console.log(data.error);}else{loadProducts();}});};useEffect(function(){loadProducts();},[]);function close(){setProductUpdate();}if(!productUpdate)return null;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CDialogShadow,{onClick:close}),/*#__PURE__*/React.createElement(CDialog,null,/*#__PURE__*/React.createElement(CDashBanner,null,/*#__PURE__*/React.createElement(CDashBannerLabel,null,productUpdate)),/*#__PURE__*/React.createElement(CDialogContent,null,/*#__PURE__*/React.createElement(\"div\",_defineProperty({className:\"profile-orders\"},\"className\",\"content-margined\"),/*#__PURE__*/React.createElement(\"table\",{className:\"table\"},/*#__PURE__*/React.createElement(\"thead\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Product Name\"),/*#__PURE__*/React.createElement(\"th\",null,\"Update\"),/*#__PURE__*/React.createElement(\"th\",null,\"Delete\"))),/*#__PURE__*/React.createElement(\"tbody\",null,products.map(function(p,i){return/*#__PURE__*/React.createElement(\"tr\",{key:i},/*#__PURE__*/React.createElement(\"td\",null,p.name),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(UpdateButton,null,\"Update\")),/*#__PURE__*/React.createElement(\"td\",null,/*#__PURE__*/React.createElement(\"span\",{onClick:function onClick(){return destroy(p._id);},className:\"badge badge-danger badge-pill\"},/*#__PURE__*/React.createElement(DeleteConfirmButton,null,\" Delete\"))));}))))),/*#__PURE__*/React.createElement(CDialogFooter,null)));}","map":{"version":3,"sources":["/Users/KerrFamily/Desktop/FoodApp/src/user/ProductUpdate.js"],"names":["React","useState","useEffect","styled","DashLabel","Link","seaBlue","Title","getProducts","deleteProduct","isAuthenticated","CDialog","div","CDialogShadow","CDialogContent","DeleteConfirmButton","disabled","UpdateButton","CDialogFooter","CDashBanner","CDashBannerLabel","ProdUpdateDialog","productUpdate","setProductUpdate","products","setProducts","user","token","loadProducts","then","data","error","console","log","destroy","productId","_id","close","map","p","i","name"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport { DashLabel } from './dashlinkhelper';\nimport {Link} from 'react-router-dom';\nimport {seaBlue} from '../Styles/colors';\nimport {Title} from '../Styles/title';\nimport {getProducts, deleteProduct} from '../admin/adminApi';\nimport {isAuthenticated} from '../auth';\n\nconst CDialog = styled.div`\nwidth: 550px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst CDialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`\n\nconst CDialogContent = styled.div`\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\n\nexport const DeleteConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 100px;\ncursor: pointer;\nbackground-color: #ff0000;\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nexport const UpdateButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 100px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nconst CDialogFooter = styled.div`\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\n\n\n\nconst CDashBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\n\nconst CDashBannerLabel= styled(DashLabel)`\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n`\n\nexport function ProdUpdateDialog({productUpdate , setProductUpdate}){\n    const [products, setProducts] = useState ([]);\n    const {user, token} = isAuthenticated();\n\n    const loadProducts = () => {\n        getProducts().then(data => {\n            if(data.error){\n                console.log(data.error)\n            } else {\n                setProducts(data)\n            }\n        });\n    };\n        const destroy = productId => {\n            deleteProduct(productId, user._id, token).then(data => {\n                if(data.error) {\n                    console.log(data.error)\n                } else {\n                    loadProducts()\n                }\n            });\n        };\n\n    useEffect(()=> {\n        loadProducts();\n    }, [])\n\n    function close() {\n        setProductUpdate();\n    }\n\n    if(!productUpdate) return null;\n    return (\n     <>\n    <CDialogShadow onClick={close}/>\n    <CDialog>\n        <CDashBanner>\n            <CDashBannerLabel>\n                {productUpdate}\n            </CDashBannerLabel>\n        </CDashBanner>\n        <CDialogContent>\n        <div className=\"profile-orders\" className=\"content-margined\">\n            {\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                        <th>Product Name</th>\n                        <th>Update</th>\n                        <th>Delete</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                            {products.map((p, i) => <tr key={i}>\n                                <td>{p.name}</td>\n                                <td>\n                                    <UpdateButton>Update</UpdateButton>\n                                </td>\n                                <td>\n                                <span onClick={()=> destroy(p._id)} className=\"badge badge-danger badge-pill\">\n                                   <DeleteConfirmButton> Delete</DeleteConfirmButton>\n                                </span>\n                                </td>\n                            </tr>)}\n                        </tbody>\n                </table>            }\n        </div>\n        </CDialogContent>\n        <CDialogFooter>\n        </CDialogFooter>\n    </CDialog>\n    </>\n    );\n}"]},"metadata":{},"sourceType":"module"}