{"ast":null,"code":"import _slicedToArray from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n    height: 1000px;\\n    margin: 0px 400px 50px 20px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import styled from'styled-components';import{getProducts}from\"../admin/adminApi\";import{Food,FoodGrid,FoodLabel}from\"./FoodGrid\";import{formatPrice}from\"../Data/FoodData\";import{API}from\"../config\";var MenuStyled=styled.div(_templateObject());export function Menu(_ref){var setOpenFood=_ref.setOpenFood;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),loadProducts=_useState2[0],setLoadProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var loadAllProducts=function loadAllProducts(){getProducts().then(function(data){if(data.error){setError(data.error);}else{setLoadProducts(data);}});};useEffect(function(){loadAllProducts();},[]);useEffect(function(){console.log(loadProducts);},[loadProducts]);var foods=loadProducts.reduce(function(res,food){if(!res[food.category.name]){res[food.category.name]=[];}res[food.category.name].push(food);return res;},{});return/*#__PURE__*/React.createElement(MenuStyled,null,Object.entries(foods).map(function(_ref2){var _ref3=_slicedToArray(_ref2,2),sectionName=_ref3[0],foods=_ref3[1];return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",null,sectionName),/*#__PURE__*/React.createElement(FoodGrid,null,foods.map(function(food,findex){return/*#__PURE__*/React.createElement(Food,{key:findex,img:\"\".concat(API,\"/product/photo/\").concat(food._id),onClick:function onClick(){setOpenFood(food);}},/*#__PURE__*/React.createElement(FoodLabel,null,/*#__PURE__*/React.createElement(\"div\",null,food.name),/*#__PURE__*/React.createElement(\"div\",null,formatPrice(food.price))));})));}));}","map":{"version":3,"sources":["/Users/KerrFamily/Desktop/FoodApp/src/Menu/Menu.js"],"names":["React","useState","useEffect","styled","getProducts","Food","FoodGrid","FoodLabel","formatPrice","API","MenuStyled","div","Menu","setOpenFood","loadProducts","setLoadProducts","error","setError","loadAllProducts","then","data","console","log","foods","reduce","res","food","category","name","push","Object","entries","map","sectionName","findex","_id","price"],"mappings":"ggBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,mBAAnB,CACA,OAAQC,WAAR,KAA0B,mBAA1B,CACA,OAAQC,IAAR,CAAcC,QAAd,CAAwBC,SAAxB,KAAwC,YAAxC,CACA,OAAQC,WAAR,KAA0B,kBAA1B,CACA,OAAQC,GAAR,KAAkB,WAAlB,CAEA,GAAMC,CAAAA,UAAU,CAAGP,MAAM,CAACQ,GAAV,mBAAhB,CAKA,MAAO,SAASC,CAAAA,IAAT,MAA4B,IAAbC,CAAAA,WAAa,MAAbA,WAAa,eACSZ,QAAQ,CAAC,EAAD,CADjB,wCACxBa,YADwB,eACVC,eADU,8BAELd,QAAQ,CAAC,KAAD,CAFH,yCAExBe,KAFwB,eAEjBC,QAFiB,eAI/B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC1Bd,WAAW,GAAGe,IAAd,CAAmB,SAAAC,IAAI,CAAE,CACrB,GAAGA,IAAI,CAACJ,KAAR,CAAc,CACVC,QAAQ,CAACG,IAAI,CAACJ,KAAN,CAAR,CACH,CAFD,IAEK,CACDD,eAAe,CAACK,IAAD,CAAf,CACH,CACJ,CAND,EAOH,CARD,CAUAlB,SAAS,CAAC,UAAI,CACVgB,eAAe,GAElB,CAHQ,CAGN,EAHM,CAAT,CAKAhB,SAAS,CAAC,UAAI,CAACmB,OAAO,CAACC,GAAR,CAAYR,YAAZ,EAA0B,CAAhC,CAAkC,CAACA,YAAD,CAAlC,CAAT,CAEA,GAAMS,CAAAA,KAAK,CAAGT,YAAY,CAACU,MAAb,CAAoB,SAACC,GAAD,CAAMC,IAAN,CAAe,CAC7C,GAAG,CAACD,GAAG,CAACC,IAAI,CAACC,QAAL,CAAcC,IAAf,CAAP,CAA4B,CACxBH,GAAG,CAACC,IAAI,CAACC,QAAL,CAAcC,IAAf,CAAH,CAAwB,EAAxB,CACH,CACDH,GAAG,CAACC,IAAI,CAACC,QAAL,CAAcC,IAAf,CAAH,CAAwBC,IAAxB,CAA6BH,IAA7B,EACA,MAAOD,CAAAA,GAAP,CACH,CANa,CAMX,EANW,CAAd,CAQA,mBACA,oBAAC,UAAD,MACKK,MAAM,CAACC,OAAP,CAAeR,KAAf,EAAsBS,GAAtB,CAA0B,kDAAEC,WAAF,UAAeV,KAAf,6BACvB,qDACJ,8BAAKU,WAAL,CADI,cAEJ,oBAAC,QAAD,MACCV,KAAK,CAACS,GAAN,CAAU,SAACN,IAAD,CAAOQ,MAAP,qBACP,oBAAC,IAAD,EAAM,GAAG,CAAEA,MAAX,CAAmB,GAAG,WAAKzB,GAAL,2BAA0BiB,IAAI,CAACS,GAA/B,CAAtB,CAA4D,OAAO,CAAE,kBAAI,CACrEtB,WAAW,CAACa,IAAD,CAAX,CACH,CAFD,eAGI,oBAAC,SAAD,mBACI,+BACKA,IAAI,CAACE,IADV,CADJ,cAII,+BACKpB,WAAW,CAACkB,IAAI,CAACU,KAAN,CADhB,CAJJ,CAHJ,CADO,EAAV,CADD,CAFI,CADuB,EAA1B,CADL,CADA,CAyBH","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport {getProducts} from \"../admin/adminApi\";\nimport {Food, FoodGrid, FoodLabel} from \"./FoodGrid\";\nimport {formatPrice} from \"../Data/FoodData\";\nimport {API} from \"../config\";\n\nconst MenuStyled = styled.div`\n    height: 1000px;\n    margin: 0px 400px 50px 20px;\n`\n\nexport function Menu({setOpenFood}){\n    const [loadProducts, setLoadProducts] = useState([]);\n    const [error, setError] = useState(false);\n\n    const loadAllProducts = () => {\n        getProducts().then(data=>{\n            if(data.error){\n                setError(data.error);\n            }else{\n                setLoadProducts(data);\n            }\n        });\n    };\n\n    useEffect(()=>{\n        loadAllProducts()\n        \n    }, []);\n\n    useEffect(()=>{console.log(loadProducts)}, [loadProducts])\n\n    const foods = loadProducts.reduce((res, food) => {\n        if(!res[food.category.name]){\n            res[food.category.name]=[];\n        }\n        res[food.category.name].push(food);\n        return res;\n    }, {});\n\n    return (\n    <MenuStyled>\n        {Object.entries(foods).map(([sectionName, foods]) => (\n            <>\n        <h1>{sectionName}</h1>\n        <FoodGrid>\n        {foods.map((food, findex) => (\n            <Food key={findex} img={`${API}/product/photo/${food._id}`} onClick={()=>{\n                setOpenFood(food);\n            }}>\n                <FoodLabel>\n                    <div>\n                        {food.name}\n                    </div>\n                    <div>\n                        {formatPrice(food.price)}\n                    </div>\n                </FoodLabel>\n            </Food>\n        ))}\n        </FoodGrid>\n        </>\n        ))}\n    </MenuStyled>\n    );\n}"]},"metadata":{},"sourceType":"module"}