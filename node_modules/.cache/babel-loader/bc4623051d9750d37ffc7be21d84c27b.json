{"ast":null,"code":"import _defineProperty from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/KerrFamily/Desktop/FoodApp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject7(){var data=_taggedTemplateLiteral([\"\\n    top: 90px;\\n    font-size: 30px;\\n    padding: 5px 40px;\\n\"]);_templateObject7=function _templateObject7(){return data;};return data;}function _templateObject6(){var data=_taggedTemplateLiteral([\"\\nmin-height: 200px;\\nmargin-bottom: 20px;\\nbackground-image: url(\\\"img/shark.jpeg\\\");\\nbackground-position: center;\\nbackground-size: cover;\\n\"]);_templateObject6=function _templateObject6(){return data;};return data;}function _templateObject5(){var data=_taggedTemplateLiteral([\"\\nbox-shadow: 0px -2px 20px 0px grey;\\nheight: 60px;\\ndisplay: flex;\\njustify-content: center;\\n\"]);_templateObject5=function _templateObject5(){return data;};return data;}function _templateObject4(){var data=_taggedTemplateLiteral([\"\\nmargin: 10px;\\ncolor: white;\\nheight: 20px;\\nborder-radius: 5px;\\npadding: 10px;\\ntext-align: center;\\nwidth: 200px;\\ncursor: pointer;\\nbackground-color: \",\";\\n\",\"\\n\"]);_templateObject4=function _templateObject4(){return data;};return data;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\noverflow: auto; \\nmin-height: 200px;\\npadding: 0px 40px;\\npadding-bottom: 80px;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n    position: fixed;\\n    height: 100%;\\n    width: 100%;\\n    top: 0px;\\n    background-color: black;\\n    opacity: 0.7;\\n    z-index: 4;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\nwidth: 500px;\\nbackground-color: white;\\nposition: fixed;\\ntop: 80px;\\nz-index: 5;\\nmax-height: calc(100% - 100px);\\nleft: calc(50% - 250px);\\ndisplay: flex;\\nflex-direction: column;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useEffect}from'react';import styled from'styled-components';import{DashLabel}from'./dashlinkhelper';import{seaBlue}from'../Styles/colors';import{Title}from'../Styles/title';import{createProduct,getCategories}from'../admin/adminApi';import{isAuthenticated}from'../auth';var CDialog=styled.div(_templateObject());var CDialogShadow=styled.div(_templateObject2());var CDialogContent=styled.div(_templateObject3());export var ConfirmButton=styled(Title)(_templateObject4(),seaBlue,function(_ref){var disabled=_ref.disabled;return disabled&&\"\\nopacity: .5;\\nbackground-color: grey;\\npointer-events: none;\\n\";});var CDialogFooter=styled.div(_templateObject5());var CDashBanner=styled.div(_templateObject6());var CDashBannerLabel=styled(DashLabel)(_templateObject7());export function ProdDialog(_ref2){var productWin=_ref2.productWin,setProductWin=_ref2.setProductWin;var _isAuthenticated=isAuthenticated(),user=_isAuthenticated.user,token=_isAuthenticated.token;var _useState=useState({name:'',description:'',price:'',categories:[],category:'',shipping:'',//quantity: '',\nphoto:'',loading:false,error:'',createdProduct:'',redirectedToProfile:false,formData:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var name=values.name,description=values.description,price=values.price,categories=values.categories,loading=values.loading,error=values.error,createdProduct=values.createdProduct,formData=values.formData;//load categories and set form data\nvar init=function init(){getCategories().then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error}));}else{setValues(_objectSpread(_objectSpread({},values),{},{categories:data,formData:new FormData()}));}});};useEffect(function(){init();},[]);var handleChange=function handleChange(name){return function(event){var value=name==='photo'?event.target.files[0]:event.target.value;formData.set(name,value);setValues(_objectSpread(_objectSpread({},values),{},_defineProperty({},name,value)));};};var clickSubmit=function clickSubmit(event){event.preventDefault();setValues(_objectSpread(_objectSpread({},values),{},{error:\"\",loading:true}));createProduct(user._id,token,formData).then(function(data){if(data.error){setValues(_objectSpread(_objectSpread({},values),{},{error:data.error}));}else{setValues(_objectSpread(_objectSpread({},values),{},{name:'',description:'',photo:'',price:'',//quantity:'',\nloading:false,createdProduct:data.name}));}});};var newPostForm=function newPostForm(){return/*#__PURE__*/React.createElement(\"form\",{className:\"mb-3\",onSubmit:clickSubmit},/*#__PURE__*/React.createElement(\"h4\",null,\"Post Photo\"),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"btn btn-secondary\"},/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('photo'),type:\"file\",name:\"photo\",accept:\"image/*\"}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Name\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('name'),type:\"text\",className:\"form-control\",value:name})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Description\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('description'),type:\"text\",className:\"form-control\",value:description})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Price\"),/*#__PURE__*/React.createElement(\"input\",{onChange:handleChange('price'),type:\"number\",className:\"form-control\",value:price})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Category\"),/*#__PURE__*/React.createElement(\"select\",{onChange:handleChange('category'),className:\"form-control\"},/*#__PURE__*/React.createElement(\"option\",null,\"--select--\"),categories&&categories.map(function(c,i){return/*#__PURE__*/React.createElement(\"option\",{key:i,value:c._id},c.name);}))),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{className:\"text-muted\"},\"Shipping\"),/*#__PURE__*/React.createElement(\"select\",{onChange:handleChange('shipping'),className:\"form-control\"},/*#__PURE__*/React.createElement(\"option\",null,\"--select--\"),/*#__PURE__*/React.createElement(\"option\",{value:\"0\"},\"No\"),/*#__PURE__*/React.createElement(\"option\",{value:\"1\"},\"Yes\"))),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-outline-primary\"},\"Create Product\"));};var showError=function showError(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-danger\",style:{display:error?'':'none'}},error);};var showSuccess=function showSuccess(){return/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-info\",style:{display:createdProduct?'':'none'}},/*#__PURE__*/React.createElement(\"h2\",null,\"\".concat(createdProduct),\" is created`\"));};var showLoading=function showLoading(){return loading&&/*#__PURE__*/React.createElement(\"div\",{className:\"alert alert-success\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Loading...\"));};function close(){setProductWin();}if(!productWin)return null;return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(CDialogShadow,{onClick:close}),/*#__PURE__*/React.createElement(CDialog,null,/*#__PURE__*/React.createElement(CDashBanner,null,/*#__PURE__*/React.createElement(CDashBannerLabel,null,productWin)),/*#__PURE__*/React.createElement(CDialogContent,null,showSuccess(),showError(),showLoading(),newPostForm()),/*#__PURE__*/React.createElement(CDialogFooter,null)));}","map":{"version":3,"sources":["/Users/KerrFamily/Desktop/FoodApp/src/user/ProductDialog.js"],"names":["React","useState","useEffect","styled","DashLabel","seaBlue","Title","createProduct","getCategories","isAuthenticated","CDialog","div","CDialogShadow","CDialogContent","ConfirmButton","disabled","CDialogFooter","CDashBanner","CDashBannerLabel","ProdDialog","productWin","setProductWin","user","token","name","description","price","categories","category","shipping","photo","loading","error","createdProduct","redirectedToProfile","formData","values","setValues","init","then","data","FormData","handleChange","event","value","target","files","set","clickSubmit","preventDefault","_id","newPostForm","map","c","i","showError","display","showSuccess","showLoading","close"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport { DashLabel } from './dashlinkhelper';\nimport {seaBlue} from '../Styles/colors';\nimport {Title} from '../Styles/title';\nimport {createProduct, getCategories} from '../admin/adminApi';\nimport {isAuthenticated} from '../auth';\n\n\nconst CDialog = styled.div`\nwidth: 500px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst CDialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`\n\nconst CDialogContent = styled.div`\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\n\nexport const ConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nconst CDialogFooter = styled.div`\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\n\n\n\nconst CDashBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\n\nconst CDashBannerLabel= styled(DashLabel)`\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n`\n\nexport function ProdDialog({productWin , setProductWin}){\n    const {user, token} = isAuthenticated();\n    const [values, setValues] = useState({\n        name:'',\n        description:'',\n        price: '',\n        categories: [],\n        category: '',\n        shipping:'',\n        //quantity: '',\n        photo: '',\n        loading: false,\n        error: '',\n        createdProduct: '',\n        redirectedToProfile: false,\n        formData: ''\n    })\n\n    const {\n    name,\n    description,\n    price,\n    categories,\n    loading,\n    error,\n    createdProduct,\n    formData\n    } = values;\n\n    //load categories and set form data\n    const init = () => {\n        getCategories().then(data => {\n            if(data.error){\n                setValues({...values, error: data.error})\n            }else {\n                setValues({...values, \n                    categories: data, \n                    formData: new FormData()\n                });\n            }\n        });\n    };\n\n    useEffect(() => {\n        init();\n   }, []);\n\n    const handleChange = name => event => {\n        const value = name === 'photo' ? event.target.files[0]: event.target.value;\n        formData.set(name,value);\n        setValues({...values, [name]: value});\n    };\n\n    const clickSubmit = event => {\n        event.preventDefault();\n        setValues({...values, error: \"\", loading: true});\n\n        createProduct(user._id, token, formData)\n        .then(data => {\n            if(data.error){\n                setValues({...values, error: data.error});\n            } else {\n                setValues({\n                    ...values,\n                    name: '', \n                    description:'',\n                    photo:'',\n                    price:'',\n                    //quantity:'',\n                    loading: false,\n                    createdProduct: data.name\n                });\n            }\n        });\n    };\n\n    const newPostForm = () => (\n        <form className=\"mb-3\" onSubmit={clickSubmit}>\n            <h4>Post Photo</h4>\n            <div className=\"form-group\">\n                <label className=\"btn btn-secondary\">\n                <input onChange={handleChange('photo')}  type=\"file\" name=\"photo\" accept=\"image/*\"/>\n                </label>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Name</label>\n                <input onChange={handleChange('name')} type=\"text\" className=\"form-control\" value={name}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Description</label>\n                <input onChange={handleChange('description')} type=\"text\" className=\"form-control\" value={description}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Price</label>\n                <input onChange={handleChange('price')} type=\"number\" className=\"form-control\" value={price}/>\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Category</label>\n                <select \n                onChange={handleChange('category')} \n                className=\"form-control\" \n                >\n                    <option>--select--</option>\n                    {categories && categories.map((c, i) => (\n                    <option key={i} value={c._id}>{c.name}\n                    </option>\n                    ))}\n                </select>\n            </div>\n            <div className=\"form-group\">\n            {/* <label className=\"text-muted\">Quantity</label>\n                <input \n                onChange={handleChange('quantity')} \n                type=\"number\" \n                className=\"form-control\" \n                value={quantity}/> */}\n            </div>\n            <div className=\"form-group\">\n                <label className=\"text-muted\">Shipping</label>\n                <select \n                onChange={handleChange('shipping')} \n                className=\"form-control\" \n                >\n                    <option>--select--</option>\n                    <option value=\"0\">No</option>\n                    <option value=\"1\">Yes</option>\n\n                </select>\n            </div>\n            <button className=\"btn btn-outline-primary\">Create Product</button>\n        </form>\n    );\n\n    const showError = () =>(\n        <div className=\"alert alert-danger\" style={{display: error ? '': 'none'}}>\n            {error}\n        </div>\n    );\n\n    const showSuccess = () =>(\n        <div className=\"alert alert-info\" style={{display: createdProduct ? '': 'none'}}>\n            <h2>{`${createdProduct}`} is created`</h2>\n        </div>\n    );\n\n    const showLoading = () =>(\n        loading && (<div className=\"alert alert-success\">\n            <h2>Loading...</h2>\n        </div>)\n    );\n\n    function close() {\n        setProductWin();\n    }\n\n    if(!productWin) return null;\n    return (\n     <>\n    <CDialogShadow onClick={close}/>\n    <CDialog>\n        <CDashBanner>\n            <CDashBannerLabel>\n                {productWin}\n            </CDashBannerLabel>\n        </CDashBanner>\n        <CDialogContent>\n                     {showSuccess()}\n                    {showError()}\n                    {showLoading()}\n                    {newPostForm()}\n        </CDialogContent>\n        <CDialogFooter>\n        </CDialogFooter>\n    </CDialog>\n    </>\n    );\n}"]},"metadata":{},"sourceType":"module"}