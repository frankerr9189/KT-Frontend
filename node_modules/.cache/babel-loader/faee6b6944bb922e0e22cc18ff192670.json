{"ast":null,"code":"var _jsxFileName = \"/Users/KerrFamily/Desktop/FoodApp/src/user/ProductUpdate.js\";\nimport React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { DashLabel } from './dashlinkhelper';\nimport { seaBlue } from '../Styles/colors';\nimport { Title } from '../Styles/title';\nimport { createProduct, getCategories } from '../admin/adminApi';\nimport { isAuthenticated } from '../auth';\nimport { getProducts, deleteProduct } from './apiAdmin';\nconst CDialog = styled.div`\nwidth: 500px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n`;\nconst CDialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`;\nconst CDialogContent = styled.div`\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\nexport const ConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({\n  disabled\n}) => disabled && `\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\nconst CDialogFooter = styled.div`\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\nconst CDashBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\nconst CDashBannerLabel = styled(DashLabel)`\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n`;\nexport function ProdUpdateDialog({\n  productUpdate,\n  setProductUpdate\n}) {\n  const [products, setProducts] = useState([]);\n  const {\n    user,\n    token\n  } = isAuthenticated();\n\n  const loadProducts = () => {\n    getProducts().then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        setProducts(data);\n      }\n    });\n  };\n\n  const destroy = productId => {\n    deleteProduct(productId, user._id, token).then(data => {\n      if (data.error) {\n        console.log(data.error);\n      } else {\n        loadProducts();\n      }\n    });\n  };\n\n  useEffect(() => {\n    loadProducts();\n  }, []);\n\n  function close() {\n    setProductUpdate();\n  }\n\n  if (!productUpdate) return null;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CDialogShadow, {\n    onClick: close,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(CDialog, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(CDashBanner, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CDashBannerLabel, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, productUpdate)), /*#__PURE__*/React.createElement(CDialogContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"profile-orders\",\n    className: \"content-margined\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    className: \"table\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 25\n    }\n  }, \"Product Name\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 25\n    }\n  }, \"View Details\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 25\n    }\n  }, \"Update\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 25\n    }\n  }, \"Delete\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 25\n    }\n  }, products.map((p, i) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: i,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 33\n    }\n  }, p.name), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${p._id}`,\n    className: \"mr-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-outline-primary mt-2 mb-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }, \"View Product\"))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/admin/product/update/${p._id}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"badge badge-warning badge-pill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 33\n    }\n  }, \"Update\"))), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    onClick: () => destroy(p._id),\n    className: \"badge badge-danger badge-pill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 33\n    }\n  }, \"Delete\")))))))), /*#__PURE__*/React.createElement(CDialogFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/KerrFamily/Desktop/FoodApp/src/user/ProductUpdate.js"],"names":["React","useState","useEffect","styled","DashLabel","seaBlue","Title","createProduct","getCategories","isAuthenticated","getProducts","deleteProduct","CDialog","div","CDialogShadow","CDialogContent","ConfirmButton","disabled","CDialogFooter","CDashBanner","CDashBannerLabel","ProdUpdateDialog","productUpdate","setProductUpdate","products","setProducts","user","token","loadProducts","then","data","error","console","log","destroy","productId","_id","close","map","p","i","name"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport styled from 'styled-components';\nimport { DashLabel } from './dashlinkhelper';\nimport {seaBlue} from '../Styles/colors';\nimport {Title} from '../Styles/title';\nimport {createProduct, getCategories} from '../admin/adminApi';\nimport {isAuthenticated} from '../auth';\nimport {getProducts, deleteProduct} from './apiAdmin';\n\nconst CDialog = styled.div`\nwidth: 500px;\nbackground-color: white;\nposition: fixed;\ntop: 80px;\nz-index: 5;\nmax-height: calc(100% - 100px);\nleft: calc(50% - 250px);\ndisplay: flex;\nflex-direction: column;\n`;\n\nconst CDialogShadow = styled.div`\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    top: 0px;\n    background-color: black;\n    opacity: 0.7;\n    z-index: 4;\n`\n\nconst CDialogContent = styled.div`\noverflow: auto; \nmin-height: 200px;\npadding: 0px 40px;\npadding-bottom: 80px;\n`;\n\nexport const ConfirmButton = styled(Title)`\nmargin: 10px;\ncolor: white;\nheight: 20px;\nborder-radius: 5px;\npadding: 10px;\ntext-align: center;\nwidth: 200px;\ncursor: pointer;\nbackground-color: ${seaBlue};\n${({disabled}) => disabled &&\n`\nopacity: .5;\nbackground-color: grey;\npointer-events: none;\n`}\n`;\n\nconst CDialogFooter = styled.div`\nbox-shadow: 0px -2px 20px 0px grey;\nheight: 60px;\ndisplay: flex;\njustify-content: center;\n`;\n\n\n\nconst CDashBanner = styled.div`\nmin-height: 200px;\nmargin-bottom: 20px;\nbackground-image: url(\"img/shark.jpeg\");\nbackground-position: center;\nbackground-size: cover;\n`;\n\nconst CDashBannerLabel= styled(DashLabel)`\n    top: 90px;\n    font-size: 30px;\n    padding: 5px 40px;\n`\n\nexport function ProdUpdateDialog({productUpdate , setProductUpdate}){\n    const [products, setProducts] = useState ([]);\n    const {user, token} = isAuthenticated();\n\n    const loadProducts = () => {\n        getProducts().then(data => {\n            if(data.error){\n                console.log(data.error)\n            } else {\n                setProducts(data)\n            }\n        });\n    };\n        const destroy = productId => {\n            deleteProduct(productId, user._id, token).then(data => {\n                if(data.error) {\n                    console.log(data.error)\n                } else {\n                    loadProducts()\n                }\n            });\n        };\n\n    useEffect(()=> {\n        loadProducts();\n    }, [])\n\n    function close() {\n        setProductUpdate();\n    }\n\n    if(!productUpdate) return null;\n    return (\n     <>\n    <CDialogShadow onClick={close}/>\n    <CDialog>\n        <CDashBanner>\n            <CDashBannerLabel>\n                {productUpdate}\n            </CDashBannerLabel>\n        </CDashBanner>\n        <CDialogContent>\n        <div className=\"profile-orders\" className=\"content-margined\">\n            {\n                <table className=\"table\">\n                    <thead>\n                        <tr>\n                        <th>Product Name</th>\n                        <th>View Details</th>\n                        <th>Update</th>\n                        <th>Delete</th>\n                        </tr>\n                        </thead>\n                        <tbody>\n                            {products.map((p, i) => <tr key={i}>\n                                <td>{p.name}</td>\n                                <td>\n                                <Link to={`/product/${p._id}`} className=\"mr-2\">\n                <button className=\"btn btn-outline-primary mt-2 mb-2\">\n                    View Product\n                </button>\n                </Link>\n                                </td>\n                                <td>\n                                <Link to={`/admin/product/update/${p._id}`}>\n                                <span className=\"badge badge-warning badge-pill\">\n                                    Update\n                                </span>\n                                </Link>\n                                </td>\n                                <td>\n                                <span onClick={()=> destroy(p._id)} className=\"badge badge-danger badge-pill\">\n                                    Delete\n                                </span>\n                                </td>\n                            </tr>)}\n                        </tbody>\n                </table>            }\n        </div>\n        </CDialogContent>\n        <CDialogFooter>\n        </CDialogFooter>\n    </CDialog>\n    </>\n    );\n}"]},"metadata":{},"sourceType":"module"}